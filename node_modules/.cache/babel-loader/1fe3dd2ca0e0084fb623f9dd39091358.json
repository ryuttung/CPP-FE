{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimso\\\\Desktop\\\\latest_FE\\\\latest_FE\\\\src\\\\MapPage\\\\MapList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport './MapList.css';\nimport SearchBar from '../Component/SearchBar';\nimport { CustomOverlayMap, Map, MapMarker } from 'react-kakao-maps-sdk';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window;\n\nconst MapList = () => {\n  _s();\n\n  const mapRef = useRef();\n  const [cafesInCurMap, setCafesInCurMap] = useState(); // let cafesInCurMap = null;\n\n  const currentMapHandler = async () => {\n    // 현재 지도 정보 설정\n    const map = mapRef.current;\n    const currentMapInfo = {\n      swLatLng: {\n        lat: map.getBounds().getSouthWest().getLat(),\n        lng: map.getBounds().getSouthWest().getLng()\n      },\n      neLatLng: {\n        lat: map.getBounds().getNorthEast().getLat(),\n        lng: map.getBounds().getNorthEast().getLng()\n      }\n    };\n    console.log(currentMapInfo.swLatLng.lat); // axios 요청\n\n    const res = await axios.get(`http://api.cpp.co.kr:3300/cafes/map?swLat=${currentMapInfo.swLatLng.lat}&swLng=${currentMapInfo.swLatLng.lng}&neLat=${currentMapInfo.neLatLng.lat}&neLng=${currentMapInfo.neLatLng.lng}`);\n    setCafesInCurMap(res.data);\n    console.log(cafesInCurMap);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(SearchBar, {\n        placeholder: '지역 / 공간 이름을 입력해주세요.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mapPageContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mapPageTitle\",\n        children: [\"\\uB0B4 \\uC8FC\\uBCC0 \\uCE74\\uD398 \\uBCF4\\uAE30\", /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"mapCurrentHandler\",\n          onClick: currentMapHandler,\n          children: \"\\uD604 \\uC704\\uCE58 \\uAC00\\uC838\\uC624\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Map // 지도를 표시할 Container\n        , {\n          center: {\n            // 지도의 중심좌표\n            lat: 33.33,\n            lng: 126.55\n          },\n          id: \"mapPage\",\n          level: 11 // 지도의 확대 레벨\n          ,\n          ref: mapRef,\n          children: cafesInCurMap && cafesInCurMap.map((item, index) => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(MapMarker, {\n              position: {\n                lat: item.lat,\n                lng: item.lng\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(CustomOverlayMap, {\n              position: {\n                lat: item.lat,\n                lng: item.lng\n              },\n              yAnchor: 2.5,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"markerName\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mapListTitle\",\n        children: [\"\\uB9AC\\uC2A4\\uD2B8 \\uC601\\uC5ED\", /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"mapList\",\n          children: cafesInCurMap && cafesInCurMap.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"mapItemImg\",\n              src: item.photoURL,\n              width: 50,\n              height: 50\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/post/${item.postId}`,\n              className: \"mapItemCafeName\",\n              children: [item.name, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mapItemCafeAddr\",\n                children: item.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 10\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MapList, \"qs0KIzEGzZycDCVv+bzPE5BCGk8=\");\n\n_c = MapList;\nexport default MapList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapList\");","map":{"version":3,"names":["React","useEffect","useState","useRef","SearchBar","CustomOverlayMap","Map","MapMarker","axios","Link","kakao","window","MapList","mapRef","cafesInCurMap","setCafesInCurMap","currentMapHandler","map","current","currentMapInfo","swLatLng","lat","getBounds","getSouthWest","getLat","lng","getLng","neLatLng","getNorthEast","console","log","res","get","data","item","index","name","photoURL","postId","address"],"sources":["C:/Users/kimso/Desktop/latest_FE/latest_FE/src/MapPage/MapList.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport './MapList.css';\r\nimport SearchBar from '../Component/SearchBar';\r\nimport { CustomOverlayMap, Map, MapMarker } from 'react-kakao-maps-sdk';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { kakao } = window;\r\n\r\nconst MapList = () => {\r\n\tconst mapRef = useRef();\r\n\tconst [cafesInCurMap, setCafesInCurMap] = useState();\r\n\r\n\t// let cafesInCurMap = null;\r\n\tconst currentMapHandler = async () => {\r\n\t\t// 현재 지도 정보 설정\r\n\t\tconst map = mapRef.current;\r\n\t\tconst currentMapInfo = {\r\n\t\t\tswLatLng: {\r\n\t\t\t\tlat: map.getBounds().getSouthWest().getLat(),\r\n\t\t\t\tlng: map.getBounds().getSouthWest().getLng(),\r\n\t\t\t},\r\n\t\t\tneLatLng: {\r\n\t\t\t\tlat: map.getBounds().getNorthEast().getLat(),\r\n\t\t\t\tlng: map.getBounds().getNorthEast().getLng(),\r\n\t\t\t},\r\n\t\t};\r\n\t\tconsole.log(currentMapInfo.swLatLng.lat);\r\n\r\n\t\t// axios 요청\r\n\t\tconst res = await axios.get(\r\n\t\t\t`http://api.cpp.co.kr:3300/cafes/map?swLat=${currentMapInfo.swLatLng.lat}&swLng=${currentMapInfo.swLatLng.lng}&neLat=${currentMapInfo.neLatLng.lat}&neLng=${currentMapInfo.neLatLng.lng}`\r\n\t\t);\r\n\r\n\t\tsetCafesInCurMap(res.data);\r\n\t\tconsole.log(cafesInCurMap);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<SearchBar placeholder={'지역 / 공간 이름을 입력해주세요.'} />\r\n\t\t\t</div>\r\n\t\t\t<div className='mapPageContainer'>\r\n\t\t\t\t<div className='mapPageTitle'>\r\n\t\t\t\t\t내 주변 카페 보기\r\n\t\t\t\t\t<button id='mapCurrentHandler' onClick={currentMapHandler}>\r\n\t\t\t\t\t\t현 위치 가져오기\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<Map // 지도를 표시할 Container\r\n\t\t\t\t\t\tcenter={{\r\n\t\t\t\t\t\t\t// 지도의 중심좌표\r\n\t\t\t\t\t\t\tlat: 33.33,\r\n\t\t\t\t\t\t\tlng: 126.55,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tid='mapPage'\r\n\t\t\t\t\t\tlevel={11} // 지도의 확대 레벨\r\n\t\t\t\t\t\tref={mapRef}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{cafesInCurMap &&\r\n\t\t\t\t\t\t\tcafesInCurMap.map((item, index) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<MapMarker\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tposition={{\r\n\t\t\t\t\t\t\t\t\t\t\tlat: item.lat,\r\n\t\t\t\t\t\t\t\t\t\t\tlng: item.lng,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{/* {item.name} */}\r\n\t\t\t\t\t\t\t\t\t</MapMarker>\r\n\t\t\t\t\t\t\t\t\t<CustomOverlayMap\r\n\t\t\t\t\t\t\t\t\t\tposition={{\r\n\t\t\t\t\t\t\t\t\t\t\tlat: item.lat,\r\n\t\t\t\t\t\t\t\t\t\t\tlng: item.lng,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tyAnchor={2.5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div id='markerName'>{item.name}</div>\r\n\t\t\t\t\t\t\t\t\t</CustomOverlayMap>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Map>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mapListTitle'>\r\n\t\t\t\t\t리스트 영역\r\n\t\t\t\t\t<div id='mapList'>\r\n\t\t\t\t\t\t{cafesInCurMap &&\r\n\t\t\t\t\t\t\tcafesInCurMap.map((item, index) => (\r\n\t\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName='mapItemImg'\r\n\t\t\t\t\t\t\t\t\t\tsrc={item.photoURL}\r\n\t\t\t\t\t\t\t\t\t\twidth={50}\r\n\t\t\t\t\t\t\t\t\t\theight={50}\r\n\t\t\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={`/post/${item.postId}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName='mapItemCafeName'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t<div className='mapItemCafeAddr'>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.address}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MapList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}