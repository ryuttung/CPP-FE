{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimso\\\\Desktop\\\\latest_FE\\\\latest_FE\\\\src\\\\Component\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport LoginModal from '../LoginPage/LoginModal';\nimport './Header.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const [openLoginModal, setOpenLoginModal] = useState(false);\n  const [isLogin, setIsLogin] = useState(false);\n\n  const logoutHeader = () => {\n    axios.get('http://api.cpp.co.kr:3300/auth/logout').then(res => {\n      console.log(res, '======로그아웃 성공======');\n      setIsLogin(false);\n      alert('로그아웃 성공');\n      console.log(isLogin);\n      sessionStorage.removeItem('id');\n      window.open('/', '_self');\n    }).catch(err => {\n      alert('로그아웃 실패 ');\n    });\n  };\n\n  useEffect(() => {\n    if (sessionStorage.getItem('id') === null) {\n      // sessionStorage 에 id 라는 key 값으로 저장된 값이 없다면\n      setIsLogin(false);\n      console.log('isLogin ?? :: ', isLogin);\n    } else {\n      // sessionStorage 에 id 라는 key 값으로 저장된 값이 있다면\n      // 로그인 상태 변경\n      setIsLogin(true);\n      console.log('isLogin ?? :: ', isLogin);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/image/cpp_logo.png`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-navi\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/post/3\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `${process.env.PUBLIC_URL}/image/bookmarks-icon.png`,\n              width: \"12px\",\n              height: \"12px\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/map\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: isLogin ? /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: logoutHeader,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => {\n              setOpenLoginModal(true);\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), openLoginModal && /*#__PURE__*/_jsxDEV(LoginModal, {\n          closeLoginModal: setOpenLoginModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: isLogin ? /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/mypage\",\n            children: \"MyPage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => {\n              setOpenLoginModal(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Header, \"RVLAQAKiz7PDZRWLQlOQLjdth7c=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["axios","React","useState","useEffect","Link","LoginModal","Header","openLoginModal","setOpenLoginModal","isLogin","setIsLogin","logoutHeader","get","then","res","console","log","alert","sessionStorage","removeItem","window","open","catch","err","getItem","process","env","PUBLIC_URL"],"sources":["C:/Users/kimso/Desktop/latest_FE/latest_FE/src/Component/Header.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport LoginModal from '../LoginPage/LoginModal';\r\nimport './Header.css';\r\n\r\nfunction Header() {\r\n\tconst [openLoginModal, setOpenLoginModal] = useState(false);\r\n\tconst [isLogin, setIsLogin] = useState(false);\r\n\tconst logoutHeader = () => {\r\n\t\taxios\r\n\t\t\t.get('http://api.cpp.co.kr:3300/auth/logout')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res, '======로그아웃 성공======');\r\n\t\t\t\tsetIsLogin(false);\r\n\t\t\t\talert('로그아웃 성공');\r\n\t\t\t\tconsole.log(isLogin);\r\n\t\t\t\tsessionStorage.removeItem('id');\r\n\t\t\t\twindow.open('/', '_self');\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\talert('로그아웃 실패 ');\r\n\t\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (sessionStorage.getItem('id') === null) {\r\n\t\t\t// sessionStorage 에 id 라는 key 값으로 저장된 값이 없다면\r\n\t\t\tsetIsLogin(false);\r\n\t\t\tconsole.log('isLogin ?? :: ', isLogin);\r\n\t\t} else {\r\n\t\t\t// sessionStorage 에 id 라는 key 값으로 저장된 값이 있다면\r\n\t\t\t// 로그인 상태 변경\r\n\t\t\tsetIsLogin(true);\r\n\t\t\tconsole.log('isLogin ?? :: ', isLogin);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='header'>\r\n\t\t\t<div className='logo'>\r\n\t\t\t\t<Link to='/'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={`${process.env.PUBLIC_URL}/image/cpp_logo.png`}\r\n\t\t\t\t\t\talt=''\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t\t<div className='header-navi'>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to='/post/3'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={`${process.env.PUBLIC_URL}/image/bookmarks-icon.png`}\r\n\t\t\t\t\t\t\t\twidth='12px'\r\n\t\t\t\t\t\t\t\theight='12px'\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to='/map'>Search</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t{isLogin ? (\r\n\t\t\t\t\t\t\t<p onClick={logoutHeader}>Logout</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetOpenLoginModal(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{openLoginModal && (\r\n\t\t\t\t\t\t<LoginModal closeLoginModal={setOpenLoginModal} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t{isLogin ? (\r\n\t\t\t\t\t\t\t<Link to='/mypage'>MyPage</Link>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetOpenLoginModal(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}