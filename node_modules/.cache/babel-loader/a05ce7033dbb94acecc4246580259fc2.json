{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimso\\\\Desktop\\\\latest_FE\\\\latest_FE\\\\src\\\\PostingPage\\\\Receipt_Sponser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport './Posting.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Receipt_Sponser(_ref) {\n  _s();\n\n  let {\n    setAllState,\n    allState\n  } = _ref;\n  //영수증 첨부\n  const [saveReceipt, setSaveReceipt] = useState(); //협찬여부 토글 버튼\n\n  const SponToggle = () => {\n    console.log('toggle 1');\n\n    if (toggleBtn === true) {\n      setToggleBtn(false);\n      setAllState({ ...allState,\n        isSponsored: false\n      });\n    } else {\n      setToggleBtn(true);\n      setAllState({ ...allState,\n        isSponsored: true\n      });\n    }\n  };\n\n  const [toggleBtn, setToggleBtn] = useState(false);\n\n  const addReceipt = async e => {\n    const receiptFormData = new FormData();\n    console.log(e.target.files[0]);\n    const receiptImg = e.target.files[0];\n    receiptFormData.append('photo', receiptImg);\n    setSaveReceipt(receiptImg); // let receiptUrl = allState.receiptURL; // 응답받은 영수증 image Url 담기\n\n    await axios({\n      method: 'POST',\n      url: 'http://api.cpp.co.kr:3300/posts/photo',\n      data: receiptFormData,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      withCredentials: true\n    }).then(res => {\n      const receiptImg = res.data.photoURL;\n      setAllState({ ...allState,\n        receiptUrl: receiptImg\n      });\n      console.log('receipt', receiptImg);\n    }).catch(err => console.log(err));\n  };\n\n  console.log('state', allState);\n  const inputImgBtn = useRef();\n\n  const onClickImgUpload = e => {\n    inputImgBtn.current.click();\n    console.log('1111 click');\n  };\n\n  const handleAddImages = e => {\n    const receipt = e.target.files; // const currentImageUrl = URL.createObjectURL(receipt);\n\n    setSaveReceipt(receipt);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adversponBtn\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receiptDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"input-file\",\n          onClick: onClickImgUpload,\n          onChange: handleAddImages,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"authReceiptBtn\",\n            children: \"\\uC601\\uC218\\uC99D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputImgBtn,\n          type: \"file\",\n          className: \"reciptInput\",\n          accept: \"image/jpg, image/png, image/jpeg\",\n          onChange: addReceipt //axios post\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), saveReceipt ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"receiptResult\",\n          children: \"\\uC601\\uC218\\uC99D\\uC774 \\uCCA8\\uBD80\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), toggleBtn ? /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"sponserBtnYes\",\n        onClick: SponToggle,\n        children: \"\\uD611\\uCC2C/\\uAD11\\uACE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"sponserBtnNo\",\n        onClick: SponToggle,\n        children: \"\\uD611\\uCC2C/\\uAD11\\uACE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Receipt_Sponser, \"/wYz45aenku+0+QXvPQhkFPFUUY=\");\n\n_c = Receipt_Sponser;\nexport default Receipt_Sponser;\n\nvar _c;\n\n$RefreshReg$(_c, \"Receipt_Sponser\");","map":{"version":3,"names":["React","useRef","useState","axios","Receipt_Sponser","setAllState","allState","saveReceipt","setSaveReceipt","SponToggle","console","log","toggleBtn","setToggleBtn","isSponsored","addReceipt","e","receiptFormData","FormData","target","files","receiptImg","append","method","url","data","headers","withCredentials","then","res","photoURL","receiptUrl","catch","err","inputImgBtn","onClickImgUpload","current","click","handleAddImages","receipt"],"sources":["C:/Users/kimso/Desktop/latest_FE/latest_FE/src/PostingPage/Receipt_Sponser.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport './Posting.css';\r\nimport axios from 'axios';\r\n\r\nfunction Receipt_Sponser({ setAllState, allState }) {\r\n  //영수증 첨부\r\n\r\n  const [saveReceipt, setSaveReceipt] = useState();\r\n\r\n  //협찬여부 토글 버튼\r\n  const SponToggle = () => {\r\n    console.log('toggle 1');\r\n    if (toggleBtn === true) {\r\n      setToggleBtn(false);\r\n      setAllState({\r\n        ...allState,\r\n        isSponsored: false,\r\n      });\r\n    } else {\r\n      setToggleBtn(true);\r\n      setAllState({\r\n        ...allState,\r\n        isSponsored: true,\r\n      });\r\n    }\r\n  };\r\n  const [toggleBtn, setToggleBtn] = useState(false);\r\n\r\n  const addReceipt = async (e) => {\r\n    const receiptFormData = new FormData();\r\n    console.log(e.target.files[0]);\r\n    const receiptImg = e.target.files[0];\r\n    receiptFormData.append('photo', receiptImg);\r\n    setSaveReceipt(receiptImg);\r\n\r\n    // let receiptUrl = allState.receiptURL; // 응답받은 영수증 image Url 담기\r\n\r\n    await axios({\r\n      method: 'POST',\r\n      url: 'http://api.cpp.co.kr:3300/posts/photo',\r\n      data: receiptFormData,\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      withCredentials: true,\r\n    })\r\n      .then((res) => {\r\n        const receiptImg = res.data.photoURL;\r\n        setAllState({\r\n          ...allState,\r\n          receiptUrl: receiptImg,\r\n        });\r\n        console.log('receipt', receiptImg);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  console.log('state', allState);\r\n\r\n  const inputImgBtn = useRef();\r\n\r\n  const onClickImgUpload = (e) => {\r\n    inputImgBtn.current.click();\r\n    console.log('1111 click');\r\n  };\r\n\r\n  const handleAddImages = (e) => {\r\n    const receipt = e.target.files;\r\n    // const currentImageUrl = URL.createObjectURL(receipt);\r\n    setSaveReceipt(receipt);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"adversponBtn\">\r\n        <div className=\"receiptDiv\">\r\n          <label\r\n            htmlFor=\"input-file\"\r\n            onClick={onClickImgUpload}\r\n            onChange={handleAddImages}\r\n          >\r\n            <button id=\"authReceiptBtn\">영수증</button>\r\n          </label>\r\n          <input\r\n            ref={inputImgBtn}\r\n            type=\"file\"\r\n            className=\"reciptInput\"\r\n            accept=\"image/jpg, image/png, image/jpeg\"\r\n            onChange={addReceipt} //axios post\r\n          />\r\n          {saveReceipt ? (\r\n            <p className=\"receiptResult\">영수증이 첨부되었습니다.</p>\r\n          ) : null}\r\n        </div>\r\n        {toggleBtn ? (\r\n          <button id=\"sponserBtnYes\" onClick={SponToggle}>\r\n            협찬/광고\r\n          </button>\r\n        ) : (\r\n          <button id=\"sponserBtnNo\" onClick={SponToggle}>\r\n            협찬/광고\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Receipt_Sponser;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}