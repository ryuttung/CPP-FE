{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimso\\\\Desktop\\\\latest_FE\\\\latest_FE\\\\src\\\\Component\\\\SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../MainPage/Main.css';\nimport axios from 'axios';\nimport { PostIdContext } from '../Context/PostIdContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchBar(_ref) {\n  _s();\n\n  let {\n    placeholder,\n    data\n  } = _ref;\n  const {\n    contextPostId,\n    setContextPostId\n  } = useContext(PostIdContext);\n  const [search, setSearch] = useState('');\n  const [showResult, setShowResult] = useState(false);\n\n  const changeText = e => {\n    setSearch(e.target.value); // GetSearch();\n\n    console.log(e.target.value);\n  };\n\n  const searchResults = () => {\n    setShowResult(true);\n  };\n\n  const initDataSearch = {\n    name: [{\n      id: null,\n      name: null,\n      address: null,\n      postId: null\n    }],\n    address: [{\n      id: null,\n      name: null,\n      address: null,\n      postId: null\n    }]\n  };\n  axios.defaults.withCredentials = true;\n  const [getSearch, setGetSearch] = useState(initDataSearch);\n\n  const GetSearch = async () => {\n    console.log('search : ', search);\n    const res = await axios.get(`http://api.cpp.co.kr:3300/cafes/search?keyword=${search}`);\n    setGetSearch(res.data);\n    console.log('getSearch1 : ', getSearch);\n  };\n\n  useEffect(() => {\n    GetSearch();\n  }, []); // const onEnter = (e) => {\n  //   if (e.key === 'Enter') {\n  //     GetSearch(); //엔터 클릭하면 axios실행\n  //     console.log('enter click');\n  //   }\n  // };\n\n  const contextSet = it => {// const clickedPostId = useContext(it.postId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"searchBar\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"searchBar\",\n      name: \"search\",\n      type: \"text\",\n      placeholder: placeholder,\n      value: search,\n      onKeyUp: e => {\n        {\n          searchResults();\n        }\n      },\n      onChange: changeText // onKeyPress={onEnter} //enter key\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      id: \"searchIcon\",\n      src: `${process.env.PUBLIC_URL}/image/search-icon.png`,\n      alt: \"\\uAC80\\uC0C9\\uC544\\uC774\\uCF58\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this), showResult ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchResult\",\n      onBlur: e => {\n        console.log('되냐?');\n        setShowResult(false);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SectionBar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"resultTitle\",\n          children: \"\\uCE74\\uD398\\uBCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: getSearch.name.filter(store => store.name.includes(search) && store.postId !== null).map(it => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/post/${it.postId}`,\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"searchresultItem\",\n              onClick: contextSet(it) //선택한 검색어의 postid를 context에 저장\n              ,\n              children: [it.name, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resultAddr\",\n                children: it.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 12\n              }, this)]\n            }, it.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 10\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"resultTitle\",\n          children: \"\\uC9C0\\uC5ED\\uBCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: getSearch.address.filter(store => store.address.includes(search) && store.postId !== null).map(it => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/post/${it.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"searchresultItem\",\n              children: [it.name, /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"resultAddr\",\n                children: it.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 12\n              }, this)]\n            }, it.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 10\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }, this);\n}\n\n_s(SearchBar, \"Gfi9FHDGxudmlNEextNUF+SjcdU=\");\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","axios","PostIdContext","SearchBar","placeholder","data","contextPostId","setContextPostId","search","setSearch","showResult","setShowResult","changeText","e","target","value","console","log","searchResults","initDataSearch","name","id","address","postId","defaults","withCredentials","getSearch","setGetSearch","GetSearch","res","get","contextSet","it","process","env","PUBLIC_URL","filter","store","includes","map"],"sources":["C:/Users/kimso/Desktop/latest_FE/latest_FE/src/Component/SearchBar.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../MainPage/Main.css';\r\nimport axios from 'axios';\r\nimport { PostIdContext } from '../Context/PostIdContext';\r\n\r\nfunction SearchBar({ placeholder, data }) {\r\n\tconst { contextPostId, setContextPostId } = useContext(PostIdContext);\r\n\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [showResult, setShowResult] = useState(false);\r\n\tconst changeText = (e) => {\r\n\t\tsetSearch(e.target.value);\r\n\t\t// GetSearch();\r\n\t\tconsole.log(e.target.value);\r\n\t};\r\n\tconst searchResults = () => {\r\n\t\tsetShowResult(true);\r\n\t};\r\n\r\n\tconst initDataSearch = {\r\n\t\tname: [\r\n\t\t\t{\r\n\t\t\t\tid: null,\r\n\t\t\t\tname: null,\r\n\t\t\t\taddress: null,\r\n\t\t\t\tpostId: null,\r\n\t\t\t},\r\n\t\t],\r\n\t\taddress: [\r\n\t\t\t{\r\n\t\t\t\tid: null,\r\n\t\t\t\tname: null,\r\n\t\t\t\taddress: null,\r\n\t\t\t\tpostId: null,\r\n\t\t\t},\r\n\t\t],\r\n\t};\r\n\r\n\taxios.defaults.withCredentials = true;\r\n\tconst [getSearch, setGetSearch] = useState(initDataSearch);\r\n\tconst GetSearch = async () => {\r\n\t\tconsole.log('search : ', search);\r\n\t\tconst res = await axios.get(\r\n\t\t\t`http://api.cpp.co.kr:3300/cafes/search?keyword=${search}`\r\n\t\t);\r\n\t\tsetGetSearch(res.data);\r\n\t\tconsole.log('getSearch1 : ', getSearch);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tGetSearch();\r\n\t}, []);\r\n\r\n\t// const onEnter = (e) => {\r\n\t//   if (e.key === 'Enter') {\r\n\t//     GetSearch(); //엔터 클릭하면 axios실행\r\n\t//     console.log('enter click');\r\n\t//   }\r\n\t// };\r\n\tconst contextSet = (it) => {\r\n\t\t// const clickedPostId = useContext(it.postId);\r\n\t};\r\n\treturn (\r\n\t\t<div className='searchBar'>\r\n\t\t\t<input\r\n\t\t\t\tid='searchBar'\r\n\t\t\t\tname='search'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tvalue={search}\r\n\t\t\t\tonKeyUp={(e) => {\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsearchResults();\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonChange={changeText}\r\n\t\t\t\t// onKeyPress={onEnter} //enter key\r\n\t\t\t/>\r\n\t\t\t<img\r\n\t\t\t\tid='searchIcon'\r\n\t\t\t\tsrc={`${process.env.PUBLIC_URL}/image/search-icon.png`}\r\n\t\t\t\talt='검색아이콘'\r\n\t\t\t/>\r\n\r\n\t\t\t{/* 검색창 클릭시 검색결과 리스트 출력 */}\r\n\t\t\t{showResult ? (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='searchResult'\r\n\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\tconsole.log('되냐?');\r\n\t\t\t\t\t\tsetShowResult(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className='SectionBar'></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className='resultTitle'>카페별</p>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{getSearch.name\r\n\t\t\t\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\t\t\t(store) =>\r\n\t\t\t\t\t\t\t\t\t\tstore.name.includes(search) &&\r\n\t\t\t\t\t\t\t\t\t\tstore.postId !== null\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.map((it) => (\r\n\t\t\t\t\t\t\t\t\t<Link to={`/post/${it.postId}`}>\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={it.id}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='searchresultItem'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={contextSet(it)} //선택한 검색어의 postid를 context에 저장\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{it.name}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='resultAddr'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{it.address}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className='resultTitle'>지역별</p>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t{getSearch.address\r\n\t\t\t\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\t\t\t(store) =>\r\n\t\t\t\t\t\t\t\t\t\tstore.address.includes(search) &&\r\n\t\t\t\t\t\t\t\t\t\tstore.postId !== null\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.map((it) => (\r\n\t\t\t\t\t\t\t\t\t<Link to={`/post/${it.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={it.id}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='searchresultItem'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{it.name}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='resultAddr'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{it.address}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}