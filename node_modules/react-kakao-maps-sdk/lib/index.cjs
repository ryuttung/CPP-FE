var e=require("react"),t=require("react-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o,a=/*#__PURE__*/n(e),r=/*#__PURE__*/n(t),i="undefined"!=typeof window&&"undefined"!=typeof document?e.useLayoutEffect:e.useEffect,s=function(e,t,n){i(function(){if(e&&n){var o=function(){var t=[].slice.call(arguments);return void 0===t?n(e):n.apply(void 0,[e].concat(t))};return kakao.maps.event.addListener(e,t,o),function(){kakao.maps.event.removeListener(e,t,o)}}},[e,t,n])};function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(o||(o={}));var c=/*#__PURE__*/function(){function e(t){var n=t.appkey,o=t.id,a=void 0===o?"__reactKakaoMapsSdkloaderId":o,r=t.libraries,i=void 0===r?[]:r,s=t.nonce,u=t.retries,l=void 0===u?3:u,c=t.url,f=void 0===c?"//dapi.kakao.com/v2/maps/sdk.js":c;if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=a,this.appkey=n,this.libraries=i,this.nonce=s,this.retries=l,this.url=f,e.instance){if(!e.equalOptions(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(e.instance.options));return e.instance}e.instance=this}e.isLoaded=function(){return new Promise(function(t){return window.kakao&&window.kakao.maps?t(!0):e.instance?e.instance.status===o.FAILURE||e.instance.status===o.INITIALIZED?t(!1):(e.instance.status===o.LOADING&&e.loadcheckcallbacks.push(function(e){return t(!e)}),t(!0)):e.loadcheckcallbacks.push(function(e){t(!e)})})};var t,n,a=e.prototype;return a.load=function(){var e=this;return new Promise(function(t,n){e.loadCallback(function(e){e?n(e.error):t(window.kakao)})})},a.loadCallback=function(e){this.callbacks.push(e),this.execute()},a.resetIfRetryingFailed=function(){this.failed&&this.reset()},a.reset=function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0},a.execute=function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}},a.setScript=function(){document.getElementById(this.id)&&this.callback();var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)},a.loadErrorCallback=function(e,t,n,o,a){var r=this;if(this.errors.push({event:e,source:t,lineno:n,colno:o,error:a}),this.errors.length<=this.retries){var i=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Kakao Maps script, retrying in "+i+" ms."),setTimeout(function(){r.deleteScript(),r.setScript()},i)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()},a.createUrl=function(){var e=this.url;return e+="?appkey="+this.appkey,this.libraries.length&&(e+="&libraries="+this.libraries.join(",")),e+"&autoload=false"},a.deleteScript=function(){var e=document.getElementById(this.id);e&&e.remove()},a.callback=function(){var t=this;kakao.maps.load(function(){t.done=!0,t.loading=!1,t.callbacks.forEach(function(e){e(t.onerrorEvent)}),t.callbacks=[],e.loadcheckcallbacks.forEach(function(e){e(t.onerrorEvent)}),e.loadcheckcallbacks=[]})},e.equalOptions=function(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(var n=0;n<e.libraries.length;++n)if(e.libraries[n]!==t.libraries[n])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url},t=e,(n=[{key:"options",get:function(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}},{key:"status",get:function(){return this.onerrorEvent?o.FAILURE:this.done?o.SUCCESS:this.loading?o.LOADING:o.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();c.instance=void 0,c.loadcheckcallbacks=[];var f=a.default.createContext(void 0),d=a.default.forwardRef(function(t,n){var o=t.id,r=void 0===o?"react-kakao-maps-sdk-map-container":o,u=t.style,l=t.children,d=t.center,p=t.isPanto,k=void 0!==p&&p,m=t.padding,v=void 0===m?32:m,g=t.className,y=t.disableDoubleClick,w=t.disableDoubleClickZoom,h=t.draggable,L=t.zoomable,C=t.keyboardShortcuts,E=t.level,M=t.maxLevel,I=t.minLevel,b=t.mapTypeId,x=t.projectionId,O=t.scrollwheel,S=t.tileAnimation,z=t.onBoundsChanged,R=t.onCenterChanged,P=t.onClick,A=t.onDoubleClick,D=t.onDrag,T=t.onDragEnd,W=t.onDragStart,Z=t.onIdle,H=t.onMaptypeidChanged,N=t.onMouseMove,j=t.onRightClick,_=t.onTileLoaded,F=t.onZoomChanged,U=t.onZoomStart,G=t.onCreate,q=e.useState(!1),V=q[0],B=q[1],K=e.useState(),J=K[0],X=K[1],Y=e.useRef(null);return i(function(){c.isLoaded().then(B)},[]),i(function(){if(V){var e=Y.current;if(e){var t="lat"in d?new kakao.maps.LatLng(d.lat,d.lng):new kakao.maps.Coords(d.x,d.y),n=new kakao.maps.Map(e,{center:t,disableDoubleClick:y,disableDoubleClickZoom:w,draggable:h,keyboardShortcuts:C,level:E,mapTypeId:b,projectionId:x,scrollwheel:O,tileAnimation:S});X(n)}}},[V,y,w,b,S]),e.useImperativeHandle(n,function(){return J},[J]),i(function(){J&&G&&G(J)},[J,G]),i(function(){if(J){var e=J.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());var t="lat"in d?new kakao.maps.LatLng(d.lat,d.lng):new kakao.maps.Coords(d.x,d.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(k?J.panTo(t,v):J.setCenter(t))}},[J,d.lat,d.lng,d.x,d.y]),i(function(){J&&void 0!==h&&J.setDraggable(h)},[J,h]),i(function(){J&&void 0!==L&&J.setZoomable(L)},[J,L]),i(function(){J&&C&&"boolean"==typeof C&&J.setKeyboardShortcuts(C)},[J,C]),i(function(){J&&E&&J.setLevel(E)},[J,E]),i(function(){J&&b&&J.setMapTypeId(b)},[J,b]),i(function(){J&&x&&J.setProjectionId(x)},[J,x]),i(function(){J&&M&&J.setMaxLevel(M)},[J,M]),i(function(){J&&I&&J.setMinLevel(I)},[J,I]),s(J,"bounds_changed",z),s(J,"center_changed",R),s(J,"click",P),s(J,"dblclick",A),s(J,"drag",D),s(J,"dragstart",W),s(J,"dragend",T),s(J,"idle",Z),s(J,"maptypeid_changed",H),s(J,"mousemove",N),s(J,"rightclick",j),s(J,"tilesloaded",_),s(J,"zoom_changed",F),s(J,"zoom_start",U),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{id:r,style:u,className:g,ref:Y}),J&&a.default.createElement(f.Provider,{value:J},l))}),p=function(t){var n=e.useContext(f);if(!n)throw new Error((t?t+" Component":"useMap")+" must exist inside Map Component!");return n},k=a.default.forwardRef(function(t,n){var o=t.map,a=t.position,i=t.marker,s=t.children,u=t.altitude,l=t.disableAutoPan,c=t.range,f=t.removable,d=t.zIndex,p=t.onCreate,k=e.useRef(document.createElement("div")),m=e.useMemo(function(){var e=new kakao.maps.InfoWindow({altitude:u,disableAutoPan:l,range:c,removable:f,zIndex:d,content:k.current,position:a});return k.current.style.display="none",e},[l,f]);return e.useImperativeHandle(n,function(){return m},[m]),e.useLayoutEffect(function(){return m.open(o,i),function(){m.close()}},[o,i]),e.useLayoutEffect(function(){p&&p(m)},[m,p]),e.useLayoutEffect(function(){m&&m.setPosition(a)},[m,a]),e.useLayoutEffect(function(){m&&u&&m.setAltitude(u)},[m,u]),e.useLayoutEffect(function(){m&&c&&m.setRange(c)},[m,c]),e.useLayoutEffect(function(){m&&d&&m.setZIndex(d)},[m,d]),k.current.parentElement&&r.default.createPortal(s,k.current.parentElement)}),m=a.default.createContext(void 0),v=a.default.forwardRef(function(t,n){var o=t.children,r=t.averageCenter,i=t.calculator,u=t.clickable,l=t.disableClickZoom,c=t.gridSize,f=t.hoverable,d=t.minClusterSize,k=t.minLevel,v=t.styles,g=t.texts,y=t.onClusterclick,w=t.onClusterdblclick,h=t.onClustered,L=t.onClusterout,C=t.onClusterover,E=t.onClusterrightclick,M=t.onCreate,I=p("MarkerClusterer"),b=e.useMemo(function(){if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:r,calculator:i,clickable:u,disableClickZoom:l,gridSize:c,hoverable:f,minClusterSize:d,minLevel:k,styles:v,texts:g});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return e.useImperativeHandle(n,function(){return b},[b]),e.useLayoutEffect(function(){null==b||b.setMap(I)},[I,b]),e.useLayoutEffect(function(){b&&M&&M(b)},[b,M]),e.useLayoutEffect(function(){b&&c&&(b.setGridSize(c),b.redraw())},[b,c]),e.useLayoutEffect(function(){b&&d&&(b.setMinClusterSize(d),b.redraw())},[b,d]),e.useLayoutEffect(function(){b&&void 0!==r&&(b.setAverageCenter(r),b.redraw())},[b,r]),e.useLayoutEffect(function(){b&&k&&(b.setMinLevel(k),b.redraw())},[b,k]),e.useLayoutEffect(function(){b&&g&&(b.setTexts(g),b.redraw())},[b,g]),e.useLayoutEffect(function(){b&&i&&(b.setCalculator(i),b.redraw())},[b,i]),e.useLayoutEffect(function(){b&&v&&(b.setStyles(v),b.redraw())},[b,v]),s(b,"clusterclick",y),s(b,"clusterover",C),s(b,"clusterout",L),s(b,"clusterdblclick",w),s(b,"clusterrightclick",E),s(b,"clustered",h),b?a.default.createElement(m.Provider,{value:b},o):null}),g=a.default.forwardRef(function(t,n){var o=t.map,r=t.position,i=t.children,u=t.altitude,l=t.clickable,c=t.draggable,f=t.image,d=t.infoWindowOptions,p=t.onCreate,v=t.onClick,g=t.onDragEnd,y=t.onDragStart,w=t.onMouseOut,h=t.onMouseOver,L=t.opacity,C=t.range,E=t.title,M=t.zIndex,I=e.useContext(m),b=e.useMemo(function(){return new kakao.maps.Marker({altitude:u,clickable:l,draggable:c,image:f,opacity:L,range:C,title:E,zIndex:M,position:r})},[]);return e.useImperativeHandle(n,function(){return b},[b]),e.useLayoutEffect(function(){return I?I.addMarker(b):b.setMap(o),function(){I?I.removeMarker(b):b.setMap(null)}},[o,I,b]),e.useLayoutEffect(function(){p&&p(b)},[b,p]),s(b,"click",v),s(b,"dragstart",y),s(b,"dragend",g),s(b,"mouseout",w),s(b,"mouseover",h),e.useLayoutEffect(function(){o&&b&&r&&b.setPosition(r)},[o,b,r]),e.useLayoutEffect(function(){o&&b&&f&&b.setImage(f)},[o,b,f]),e.useLayoutEffect(function(){o&&b&&u&&b.setAltitude(u)},[o,b,u]),e.useLayoutEffect(function(){o&&b&&void 0!==l&&b.setClickable(l)},[o,b,l]),e.useLayoutEffect(function(){o&&b&&void 0!==c&&b.setDraggable(c)},[o,b,c]),e.useLayoutEffect(function(){o&&b&&L&&b.setOpacity(L)},[o,b,L]),e.useLayoutEffect(function(){o&&b&&C&&b.setRange(C)},[o,b,C]),e.useLayoutEffect(function(){o&&b&&E&&b.setTitle(E)},[o,b,E]),e.useLayoutEffect(function(){o&&b&&M&&b.setZIndex(M)},[o,b,M]),i?a.default.createElement(k,{position:r,map:o,marker:b,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},i):null}),y=a.default.forwardRef(function(t,n){var o=t.image,r=t.position,i=t.children,s=t.clickable,u=t.draggable,l=t.infoWindowOptions,c=t.onClick,f=t.onDragEnd,d=t.onDragStart,k=t.onMouseOut,m=t.onMouseOver,v=t.onCreate,y=t.opacity,w=t.title,h=t.zIndex,L=p("MapMarker"),C=e.useMemo(function(){var e,t,n,a,r,i,s,u,l,c,f,d;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(n=o.options)?void 0:n.offset)&&new kakao.maps.Point(null==(a=o.options)?void 0:a.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(i=o.options)?void 0:i.shape,spriteOrigin:(null==(s=o.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(u=o.options)?void 0:u.spriteOrigin.x,null==(l=o.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=o.options)?void 0:f.spriteSize.width,null==(d=o.options)?void 0:d.spriteSize.height)})},[o]),E=e.useMemo(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):new kakao.maps.Coords(r.x,r.y).toLatLng()},[r.lat,r.lng,r.x,r.y]);return a.default.createElement(g,{map:L,position:E,image:C,clickable:s,draggable:u,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:k,onMouseOver:m,onCreate:v,opacity:y,title:w,zIndex:h,ref:n},i)}),w=a.default.forwardRef(function(t,n){var o=t.position,r=t.children,i=t.disableAutoPan,s=t.removable,u=t.zIndex,l=t.onCreate,c=p("MapInfoWindow"),f=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]);return a.default.createElement(k,{disableAutoPan:i,removable:s,zIndex:u,map:c,position:f,onCreate:l,ref:n},r)}),h=a.default.forwardRef(function(t,n){var o=t.position,a=t.children,i=t.clickable,s=t.xAnchor,u=t.yAnchor,l=t.zIndex,c=t.onCreate,f=e.useContext(m),d=p("CustomOverlayMap"),k=e.useRef(document.createElement("div")),v=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),g=e.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:i,xAnchor:s,yAnchor:u,zIndex:l,position:v,content:k.current});return k.current.style.display="none",e},[i,s,u]);return e.useImperativeHandle(n,function(){return g},[g]),e.useLayoutEffect(function(){if(d)return f?f.addMarker(g):g.setMap(d),function(){f?f.removeMarker(g):g.setMap(null)}},[d,f,g]),e.useLayoutEffect(function(){c&&c(g)},[g,c]),e.useLayoutEffect(function(){g.setPosition(v)},[g,v]),e.useLayoutEffect(function(){l&&g.setZIndex(l)},[g,l]),k.current.parentElement&&r.default.createPortal(a,k.current.parentElement)}),L=a.default.forwardRef(function(t,n){var o=t.position,a=void 0===o?kakao.maps.ControlPosition.TOPRIGHT:o,r=p("MapTypeControl"),i=e.useMemo(function(){return new kakao.maps.MapTypeControl},[]);return e.useImperativeHandle(n,function(){return i},[i]),e.useLayoutEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,i,a]),null}),C=a.default.forwardRef(function(t,n){var o=t.position,a=void 0===o?kakao.maps.ControlPosition.RIGHT:o,r=p("ZoomControl"),i=e.useMemo(function(){return new kakao.maps.ZoomControl},[]);return e.useImperativeHandle(n,function(){return i},[i]),e.useEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,a]),null}),E=a.default.forwardRef(function(t,n){var o=t.center,a=t.radius,r=t.fillColor,i=t.fillOpacity,u=t.strokeColor,l=t.strokeOpacity,c=t.strokeStyle,f=t.strokeWeight,d=t.zIndex,k=t.onMouseover,m=t.onMouseout,v=t.onMousemove,g=t.onMousedown,y=t.onClick,w=t.onCreate,h=p("Circle"),L=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),C=e.useMemo(function(){return new kakao.maps.Circle({center:L,radius:a,fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:l,strokeStyle:c,strokeWeight:f,zIndex:d})},[]);return e.useImperativeHandle(n,function(){return C},[C]),e.useLayoutEffect(function(){return C.setMap(h),function(){C.setMap(null)}},[h,C]),e.useLayoutEffect(function(){w&&w(C)},[C,w]),e.useLayoutEffect(function(){C&&C.setPosition(L)},[C,L]),e.useLayoutEffect(function(){C.setRadius(a)},[C,a]),e.useLayoutEffect(function(){d&&C.setZIndex(d)},[C,d]),e.useLayoutEffect(function(){C.setOptions({fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:l,strokeStyle:c,strokeWeight:f})},[C,r,i,u,l,c,f]),s(C,"mouseover",k),s(C,"mouseout",m),s(C,"mousemove",v),s(C,"mousedown",g),s(C,"click",y),null}),M=a.default.forwardRef(function(t,n){var o=t.path,a=t.endArrow,r=t.onClick,i=t.onMousedown,u=t.onMousemove,l=t.onMouseout,c=t.onMouseover,f=t.onCreate,d=t.strokeColor,k=t.strokeOpacity,m=t.strokeStyle,v=t.strokeWeight,g=t.zIndex,y=p("Polyline"),w=e.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),h=e.useMemo(function(){return new kakao.maps.Polyline({path:w,endArrow:a,strokeColor:d,strokeOpacity:k,strokeStyle:m,strokeWeight:v,zIndex:g})},[]);return e.useImperativeHandle(n,function(){return h},[h]),e.useLayoutEffect(function(){return h.setMap(y),function(){return h.setMap(null)}},[y,h]),e.useLayoutEffect(function(){f&&f(h)},[h,f]),e.useLayoutEffect(function(){h.setOptions({endArrow:a,strokeColor:d,strokeOpacity:k,strokeStyle:m,strokeWeight:v})},[h,a,d,k,m,v]),e.useLayoutEffect(function(){h.setPath(w)},[h,w]),e.useLayoutEffect(function(){g&&h.setZIndex(g)},[h,g]),s(h,"mouseover",c),s(h,"mouseout",l),s(h,"mousemove",u),s(h,"mousedown",i),s(h,"click",r),null}),I=a.default.forwardRef(function(t,n){var o=t.path,a=t.onClick,r=t.onMousedown,i=t.onMousemove,u=t.onMouseout,l=t.onMouseover,c=t.onCreate,f=t.strokeColor,d=t.strokeOpacity,k=t.strokeStyle,m=t.strokeWeight,v=t.fillColor,g=t.fillOpacity,y=t.zIndex,w=p("Polygon"),h=e.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),L=e.useMemo(function(){return new kakao.maps.Polygon({path:h,fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:k,strokeWeight:m,zIndex:y})},[]);return e.useImperativeHandle(n,function(){return L},[L]),e.useLayoutEffect(function(){return L.setMap(w),function(){return L.setMap(null)}},[w,L]),e.useLayoutEffect(function(){c&&c(L)},[L,c]),e.useLayoutEffect(function(){L.setOptions({fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:k,strokeWeight:m})},[L,v,g,f,d,k,m]),e.useLayoutEffect(function(){L.setPath(h)},[L,h]),e.useLayoutEffect(function(){y&&L.setZIndex(y)},[L,y]),s(L,"mouseover",l),s(L,"mouseout",u),s(L,"mousemove",i),s(L,"mousedown",r),s(L,"click",a),null}),b=a.default.forwardRef(function(t,n){var o=t.bounds,a=t.onClick,r=t.onMousedown,i=t.onMousemove,u=t.onMouseout,l=t.onMouseover,c=t.onCreate,f=t.strokeColor,d=t.strokeOpacity,k=t.strokeStyle,m=t.strokeWeight,v=t.fillColor,g=t.fillOpacity,y=t.zIndex,w=p("Rectangle"),h=e.useMemo(function(){return new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))},[o]),L=e.useMemo(function(){return new kakao.maps.Rectangle({bounds:h,fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:k,strokeWeight:m,zIndex:y})},[]);return e.useImperativeHandle(n,function(){return L},[L]),e.useLayoutEffect(function(){return L.setMap(w),function(){return L.setMap(null)}},[w,L]),e.useLayoutEffect(function(){c&&c(L)},[L,c]),e.useLayoutEffect(function(){L.setOptions({fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:k,strokeWeight:m})},[L,v,g,f,d,k,m]),e.useLayoutEffect(function(){L.setBounds(h)},[L,h]),e.useLayoutEffect(function(){y&&L.setZIndex(y)},[L,y]),s(L,"mouseover",l),s(L,"mouseout",u),s(L,"mousemove",i),s(L,"mousedown",r),s(L,"click",a),null}),x=a.default.forwardRef(function(t,n){var o=t.center,a=t.rx,r=t.ry,i=t.fillColor,u=t.fillOpacity,l=t.strokeColor,c=t.strokeOpacity,f=t.strokeStyle,d=t.strokeWeight,k=t.zIndex,m=t.onMouseover,v=t.onMouseout,g=t.onMousemove,y=t.onMousedown,w=t.onClick,h=t.onCreate,L=p("Ellipse"),C=e.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),E=e.useMemo(function(){return new kakao.maps.Ellipse({center:C,rx:a,ry:r,fillColor:i,fillOpacity:u,strokeColor:l,strokeOpacity:c,strokeStyle:f,strokeWeight:d,zIndex:k})},[]);return e.useImperativeHandle(n,function(){return E},[E]),e.useLayoutEffect(function(){return E.setMap(L),function(){E.setMap(null)}},[L,E]),e.useLayoutEffect(function(){h&&h(E)},[E,h]),e.useLayoutEffect(function(){E&&E.setPosition(C)},[E,C]),e.useLayoutEffect(function(){E.setRadius(a,r)},[E,a,r]),e.useLayoutEffect(function(){k&&E.setZIndex(k)},[E,k]),e.useLayoutEffect(function(){E.setOptions({fillColor:i,fillOpacity:u,strokeColor:l,strokeOpacity:c,strokeStyle:f,strokeWeight:d})},[E,i,u,l,c,f,d]),s(E,"mouseover",m),s(E,"mouseout",v),s(E,"mousemove",g),s(E,"mousedown",y),s(E,"click",w),null}),O=a.default.forwardRef(function(t,n){var o=t.draw,a=t.onAdd,r=t.onRemove,i=t.onCreate,s=p(),u=e.useMemo(function(){return new(/*#__PURE__*/function(e){var t,n;function o(t,n,o){var a;return(a=e.call(this)||this).draw=t,a.onAdd=n,a.onRemove=o,a}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),o}(kakao.maps.AbstractOverlay))(o,a,r)},[o,a,r]);return e.useImperativeHandle(n,function(){return u},[u]),e.useLayoutEffect(function(){return u.setMap(s),function(){u.setMap(null)}},[s,u]),e.useLayoutEffect(function(){i&&i(u)},[u,i]),null}),S=a.default.createContext(void 0),z=a.default.forwardRef(function(t,n){var o=t.id,r=void 0===o?"react-kakao-maps-sdk-roadview-container":o,u=t.style,l=t.children,f=t.position,d=t.className,p=t.pan,k=t.panoId,m=t.panoX,v=t.panoY,g=t.tilt,y=t.zoom,w=t.onCreate,h=t.onInit,L=t.onPanoidChange,C=t.onPositionChanged,E=t.onViewpointChange,M=t.onErrorGetNearestPanoId,I=e.useState(!1),b=I[0],x=I[1],O=e.useState(!0),z=O[0],R=O[1],P=e.useState(),A=P[0],D=P[1],T=e.useRef(null);return i(function(){c.isLoaded().then(x)},[]),i(function(){if(b&&T.current){var e=new kakao.maps.Roadview(T.current,{pan:p,panoId:k,panoX:m,panoY:v,tilt:g,zoom:y});D(e)}},[b,m,v,y]),e.useImperativeHandle(n,function(){return A},[A]),i(function(){A&&w&&w(A)},[A,w]),i(function(){if(A&&!k&&(A.getPosition().getLat()!==f.lat||A.getPosition().getLng()!==f.lng)){var e=new kakao.maps.LatLng(f.lat,f.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,f.radius,function(t){null===t&&M?M(A):A.setPanoId(t,e)})}},[A,k,f.lat,f.lng,f.radius,M]),i(function(){if(A&&k&&k!==A.getPanoId()&&(A.getPosition().getLat()!==f.lat||A.getPosition().getLng()!==f.lng)){var e=new kakao.maps.LatLng(f.lat,f.lng);A.setPanoId(k,e)}},[A,k,f.lat,f.lng]),i(function(){if(A){var e=A.getViewpoint();e.pan===p&&e.tilt===g||(p&&(e.pan=p),g&&(e.tilt=g),A.setViewpoint(e))}},[A,p,g]),s(A,"init",function(e){R(!1),h&&h(e)}),s(A,"panoid_changed",L),s(A,"viewpoint_changed",E),s(A,"position_changed",C),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{id:r,className:d,style:u,ref:T}),A&&!z&&a.default.createElement(S.Provider,{value:A},l))}),R=function(t){var n=e.useContext(S);if(!n)throw new Error((t?t+" Component":"useRoadview")+" must exist inside Roadview Component!");return n},P=a.default.forwardRef(function(t,n){var o=t.position,a=t.children,i=t.clickable,s=t.xAnchor,u=t.yAnchor,l=t.zIndex,c=t.altitude,f=t.range,d=t.onCreate,p=R("CustomOverlayRoadview"),k=e.useRef(document.createElement("div")),m=e.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),v=e.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:i,xAnchor:s,yAnchor:u,zIndex:l,position:m,content:k.current});return k.current.style.display="none",e},[i,s,u]);return e.useImperativeHandle(n,function(){return v},[v]),e.useLayoutEffect(function(){if(p)return v.setMap(p),function(){v.setMap(null)}},[v,p]),e.useLayoutEffect(function(){d&&d(v)},[v,d]),e.useLayoutEffect(function(){v.setPosition(m)},[v,m]),e.useLayoutEffect(function(){l&&v.setZIndex(l)},[v,l]),e.useLayoutEffect(function(){c&&v.setAltitude(c)},[v,c]),e.useLayoutEffect(function(){f&&v.setRange(f)},[v,f]),k.current.parentElement&&r.default.createPortal(a,k.current.parentElement)}),A=a.default.forwardRef(function(t,n){var o=t.image,r=t.position,i=t.children,s=t.altitude,u=t.clickable,l=t.infoWindowOptions,c=t.onClick,f=t.onDragEnd,d=t.onDragStart,p=t.onMouseOut,k=t.onMouseOver,m=t.onCreate,v=t.opacity,y=t.range,w=t.title,h=t.zIndex,L=R("RoadviewMarker"),C=e.useMemo(function(){var e,t,n,a,r,i,s,u,l,c,f,d;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(n=o.options)?void 0:n.offset)&&new kakao.maps.Point(null==(a=o.options)?void 0:a.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(i=o.options)?void 0:i.shape,spriteOrigin:(null==(s=o.options)?void 0:s.spriteOrigin)&&new kakao.maps.Point(null==(u=o.options)?void 0:u.spriteOrigin.x,null==(l=o.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=o.options)?void 0:f.spriteSize.width,null==(d=o.options)?void 0:d.spriteSize.height)})},[o]),E=e.useMemo(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):"x"in r?new kakao.maps.Coords(r.x,r.y).toLatLng():new kakao.maps.Viewpoint(r.pan,r.tilt,r.zoom,r.panoId)},[r.lat,r.lng,r.x,r.y,r.pan,r.tilt,r.zoom,null==r?void 0:r.panoId]);return a.default.createElement(g,{map:L,position:E,image:C,altitude:s,clickable:u,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:k,onCreate:m,opacity:v,range:y,title:w,zIndex:h,ref:n},i)}),D=a.default.forwardRef(function(t,n){var o=t.position,r=t.children,i=t.altitude,s=t.disableAutoPan,u=t.range,l=t.removable,c=t.zIndex,f=t.onCreate,d=R("RoadviewInfoWindow"),p=e.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]);return a.default.createElement(k,{altitude:i,disableAutoPan:s,range:u,removable:l,zIndex:c,map:d,position:p,onCreate:f,ref:n},r)}),T=a.default.createContext(void 0);function W(t,n,o){e.useLayoutEffect(function(){t&&o&&t.addListener(n,function(){var e=[].slice.call(arguments);return void 0===e?o(t):o.apply(void 0,[t].concat(e))})},[o,t,n])}var Z=a.default.forwardRef(function(t,n){var o=t.arrowOptions,r=t.circleOptions,i=t.ellipseOptions,s=t.markerOptions,u=t.polygonOptions,l=t.polylineOptions,c=t.rectangleOptions,f=t.drawingMode,d=t.guideTooltip,k=t.onSelect,m=t.onDrawstart,v=t.onDraw,g=t.onDrawend,y=t.onDrawnext,w=t.onCancle,h=t.onRemove,L=t.onStateChanged,C=t.onCreate,E=t.children,M=p("Toolbox"),I=e.useMemo(function(){if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:M,drawingMode:f,guideTooltip:d,arrowOptions:o,circleOptions:r,ellipseOptions:i,markerOptions:s,polygonOptions:u,polylineOptions:l,rectangleOptions:c});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return e.useImperativeHandle(n,function(){return I},[I]),e.useLayoutEffect(function(){I&&C&&C(I)},[I,C]),W(I,"select",k),W(I,"drawstart",m),W(I,"draw",v),W(I,"drawend",g),W(I,"drawnext",y),W(I,"cancel",w),W(I,"remove",h),W(I,"state_changed",L),I?a.default.createElement(T.Provider,{value:I},E):null}),H=a.default.forwardRef(function(t,n){var o=t.position;o=o||kakao.maps.ControlPosition.TOP;var a=p("Toolbox"),r=e.useContext(T);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");var i=e.useMemo(function(){return new kakao.maps.drawing.Toolbox({drawingManager:r})},[r]);return e.useImperativeHandle(n,function(){return i},[i]),e.useLayoutEffect(function(){var e=i.getElement();return a.addControl(e,o),function(){a.removeControl(e)}},[a,i,o]),null}),N=a.default.forwardRef(function(t,n){var o=t.id,r=void 0===o?"react-kakao-maps-sdk-staticmap-container":o,s=t.style,l=t.className,c=t.center,f=t.marker,d=t.level,p=t.mapTypeId,k=t.onCreate,m=e.useState(),v=m[0],g=m[1],y=e.useRef(null);return i(function(){if(window.kakao){var e=y.current;e&&kakao.maps.load(function(){var t=Array.isArray(f)?f.map(function(e){return u({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})}):"object"==typeof f&&f.position?u({},f,{position:new kakao.maps.LatLng(f.position.lat,f.position.lng)}):f,n=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(c.lat,c.lng),level:d,mapTypeId:p,marker:t});g(n)})}else console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`")},[JSON.stringify(f)]),e.useImperativeHandle(n,function(){return v},[v]),i(function(){v&&v.setCenter(new kakao.maps.LatLng(c.lat,c.lng))},[v,c.lat,c.lng]),i(function(){v&&d&&v.setLevel(d)},[v,d]),i(function(){v&&p&&v.setMapTypeId(p)},[v,p]),i(function(){v&&k&&k(v)},[v,k]),a.default.createElement("div",{id:r,style:s,className:l,ref:y})});exports.AbstractOverlay=O,exports.Circle=E,exports.CustomOverlayMap=h,exports.CustomOverlayRoadview=P,exports.DrawingManager=Z,exports.Ellipse=x,exports.Loader=c,exports.Map=d,exports.MapInfoWindow=w,exports.MapMarker=y,exports.MapTypeControl=L,exports.MapTypeId=function(t){var n=t.type,o=p("MapTypeId");return e.useEffect(function(){return o.addOverlayMapTypeId(n),function(){o.removeOverlayMapTypeId(n)}},[o,n]),null},exports.MarkerClusterer=v,exports.Polygon=I,exports.Polyline=M,exports.Rectangle=b,exports.Roadview=z,exports.RoadviewInfoWindow=D,exports.RoadviewMarker=A,exports.StaticMap=N,exports.Toolbox=H,exports.ZoomControl=C,exports.useInjectKakaoMapApi=function(t){var n=e.useState({loading:!0,error:void 0}),o=n[0],a=n[1],r=e.useMemo(function(){return new c(t)},[JSON.stringify(t)]);return e.useEffect(function(){r.load().then(function(){return a({loading:!1,error:void 0})}).catch(function(e){return a({loading:!1,error:e})})},[r]),o},exports.useMap=p,exports.useRoadview=R;
//# sourceMappingURL=index.cjs.map
