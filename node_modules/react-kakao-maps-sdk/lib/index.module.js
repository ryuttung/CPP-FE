import n,{useLayoutEffect as e,useEffect as t,useState as o,useRef as r,useImperativeHandle as i,useContext as a,useMemo as l}from"react";import s from"react-dom";var u,c="undefined"!=typeof window&&"undefined"!=typeof document?e:t,d=function(n,e,t){c(function(){if(n&&t){var o=function(){var e=[].slice.call(arguments);return void 0===e?t(n):t.apply(void 0,[n].concat(e))};return kakao.maps.event.addListener(n,e,o),function(){kakao.maps.event.removeListener(n,e,o)}}},[n,e,t])};function p(){return(p=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n}).apply(this,arguments)}function f(n,e){return(f=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}!function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"}(u||(u={}));var k=/*#__PURE__*/function(){function n(e){var t=e.appkey,o=e.id,r=void 0===o?"__reactKakaoMapsSdkloaderId":o,i=e.libraries,a=void 0===i?[]:i,l=e.nonce,s=e.retries,u=void 0===s?3:s,c=e.url,d=void 0===c?"//dapi.kakao.com/v2/maps/sdk.js":c;if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=r,this.appkey=t,this.libraries=a,this.nonce=l,this.retries=u,this.url=d,n.instance){if(!n.equalOptions(this.options,n.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(n.instance.options));return n.instance}n.instance=this}n.isLoaded=function(){return new Promise(function(e){return window.kakao&&window.kakao.maps?e(!0):n.instance?n.instance.status===u.FAILURE||n.instance.status===u.INITIALIZED?e(!1):(n.instance.status===u.LOADING&&n.loadcheckcallbacks.push(function(n){return e(!n)}),e(!0)):n.loadcheckcallbacks.push(function(n){e(!n)})})};var e,t,o=n.prototype;return o.load=function(){var n=this;return new Promise(function(e,t){n.loadCallback(function(n){n?t(n.error):e(window.kakao)})})},o.loadCallback=function(n){this.callbacks.push(n),this.execute()},o.resetIfRetryingFailed=function(){this.failed&&this.reset()},o.reset=function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0},o.execute=function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}},o.setScript=function(){document.getElementById(this.id)&&this.callback();var n=this.createUrl(),e=document.createElement("script");e.id=this.id,e.type="text/javascript",e.src=n,e.onerror=this.loadErrorCallback.bind(this),e.onload=this.callback.bind(this),e.defer=!0,e.async=!0,this.nonce&&(e.nonce=this.nonce),document.head.appendChild(e)},o.loadErrorCallback=function(n,e,t,o,r){var i=this;if(this.errors.push({event:n,source:e,lineno:t,colno:o,error:r}),this.errors.length<=this.retries){var a=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Kakao Maps script, retrying in "+a+" ms."),setTimeout(function(){i.deleteScript(),i.setScript()},a)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()},o.createUrl=function(){var n=this.url;return n+="?appkey="+this.appkey,this.libraries.length&&(n+="&libraries="+this.libraries.join(",")),n+"&autoload=false"},o.deleteScript=function(){var n=document.getElementById(this.id);n&&n.remove()},o.callback=function(){var e=this;kakao.maps.load(function(){e.done=!0,e.loading=!1,e.callbacks.forEach(function(n){n(e.onerrorEvent)}),e.callbacks=[],n.loadcheckcallbacks.forEach(function(n){n(e.onerrorEvent)}),n.loadcheckcallbacks=[]})},n.equalOptions=function(n,e){if(n.appkey!==e.appkey)return!1;if(n.id!==e.id)return!1;if(n.libraries.length!==e.libraries.length)return!1;for(var t=0;t<n.libraries.length;++t)if(n.libraries[t]!==e.libraries[t])return!1;return n.nonce===e.nonce&&n.retries===e.retries&&n.url===e.url},e=n,(t=[{key:"options",get:function(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}},{key:"status",get:function(){return this.onerrorEvent?u.FAILURE:this.done?u.SUCCESS:this.loading?u.LOADING:u.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}}])&&function(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),n}();k.instance=void 0,k.loadcheckcallbacks=[];var m=n.createContext(void 0),g=n.forwardRef(function(e,t){var a=e.id,l=void 0===a?"react-kakao-maps-sdk-map-container":a,s=e.style,u=e.children,p=e.center,f=e.isPanto,g=void 0!==f&&f,v=e.padding,h=void 0===v?32:v,w=e.className,y=e.disableDoubleClick,C=e.disableDoubleClickZoom,b=e.draggable,I=e.zoomable,O=e.keyboardShortcuts,M=e.level,L=e.maxLevel,x=e.minLevel,S=e.mapTypeId,z=e.projectionId,E=e.scrollwheel,P=e.tileAnimation,R=e.onBoundsChanged,A=e.onCenterChanged,D=e.onClick,T=e.onDoubleClick,W=e.onDrag,Z=e.onDragEnd,N=e.onDragStart,_=e.onIdle,j=e.onMaptypeidChanged,F=e.onMouseMove,U=e.onRightClick,G=e.onTileLoaded,V=e.onZoomChanged,B=e.onZoomStart,q=e.onCreate,J=o(!1),K=J[0],H=J[1],X=o(),Y=X[0],Q=X[1],$=r(null);return c(function(){k.isLoaded().then(H)},[]),c(function(){if(K){var n=$.current;if(n){var e="lat"in p?new kakao.maps.LatLng(p.lat,p.lng):new kakao.maps.Coords(p.x,p.y),t=new kakao.maps.Map(n,{center:e,disableDoubleClick:y,disableDoubleClickZoom:C,draggable:b,keyboardShortcuts:O,level:M,mapTypeId:S,projectionId:z,scrollwheel:E,tileAnimation:P});Q(t)}}},[K,y,C,S,P]),i(t,function(){return Y},[Y]),c(function(){Y&&q&&q(Y)},[Y,q]),c(function(){if(Y){var n=Y.getCenter();n instanceof kakao.maps.Coords&&(n=n.toLatLng());var e="lat"in p?new kakao.maps.LatLng(p.lat,p.lng):new kakao.maps.Coords(p.x,p.y);e instanceof kakao.maps.LatLng&&e.equals(n)||e instanceof kakao.maps.Coords&&e.toLatLng().equals(n)||(g?Y.panTo(e,h):Y.setCenter(e))}},[Y,p.lat,p.lng,p.x,p.y]),c(function(){Y&&void 0!==b&&Y.setDraggable(b)},[Y,b]),c(function(){Y&&void 0!==I&&Y.setZoomable(I)},[Y,I]),c(function(){Y&&O&&"boolean"==typeof O&&Y.setKeyboardShortcuts(O)},[Y,O]),c(function(){Y&&M&&Y.setLevel(M)},[Y,M]),c(function(){Y&&S&&Y.setMapTypeId(S)},[Y,S]),c(function(){Y&&z&&Y.setProjectionId(z)},[Y,z]),c(function(){Y&&L&&Y.setMaxLevel(L)},[Y,L]),c(function(){Y&&x&&Y.setMinLevel(x)},[Y,x]),d(Y,"bounds_changed",R),d(Y,"center_changed",A),d(Y,"click",D),d(Y,"dblclick",T),d(Y,"drag",W),d(Y,"dragstart",N),d(Y,"dragend",Z),d(Y,"idle",_),d(Y,"maptypeid_changed",j),d(Y,"mousemove",F),d(Y,"rightclick",U),d(Y,"tilesloaded",G),d(Y,"zoom_changed",V),d(Y,"zoom_start",B),n.createElement(n.Fragment,null,n.createElement("div",{id:l,style:s,className:w,ref:$}),Y&&n.createElement(m.Provider,{value:Y},u))}),v=function(n){var e=a(m);if(!e)throw new Error((n?n+" Component":"useMap")+" must exist inside Map Component!");return e},h=n.forwardRef(function(n,t){var o=n.map,a=n.position,u=n.marker,c=n.children,d=n.altitude,p=n.disableAutoPan,f=n.range,k=n.removable,m=n.zIndex,g=n.onCreate,v=r(document.createElement("div")),h=l(function(){var n=new kakao.maps.InfoWindow({altitude:d,disableAutoPan:p,range:f,removable:k,zIndex:m,content:v.current,position:a});return v.current.style.display="none",n},[p,k]);return i(t,function(){return h},[h]),e(function(){return h.open(o,u),function(){h.close()}},[o,u]),e(function(){g&&g(h)},[h,g]),e(function(){h&&h.setPosition(a)},[h,a]),e(function(){h&&d&&h.setAltitude(d)},[h,d]),e(function(){h&&f&&h.setRange(f)},[h,f]),e(function(){h&&m&&h.setZIndex(m)},[h,m]),v.current.parentElement&&s.createPortal(c,v.current.parentElement)}),w=n.createContext(void 0),y=n.forwardRef(function(t,o){var r=t.children,a=t.averageCenter,s=t.calculator,u=t.clickable,c=t.disableClickZoom,p=t.gridSize,f=t.hoverable,k=t.minClusterSize,m=t.minLevel,g=t.styles,h=t.texts,y=t.onClusterclick,C=t.onClusterdblclick,b=t.onClustered,I=t.onClusterout,O=t.onClusterover,M=t.onClusterrightclick,L=t.onCreate,x=v("MarkerClusterer"),S=l(function(){if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:a,calculator:s,clickable:u,disableClickZoom:c,gridSize:p,hoverable:f,minClusterSize:k,minLevel:m,styles:g,texts:h});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return i(o,function(){return S},[S]),e(function(){null==S||S.setMap(x)},[x,S]),e(function(){S&&L&&L(S)},[S,L]),e(function(){S&&p&&(S.setGridSize(p),S.redraw())},[S,p]),e(function(){S&&k&&(S.setMinClusterSize(k),S.redraw())},[S,k]),e(function(){S&&void 0!==a&&(S.setAverageCenter(a),S.redraw())},[S,a]),e(function(){S&&m&&(S.setMinLevel(m),S.redraw())},[S,m]),e(function(){S&&h&&(S.setTexts(h),S.redraw())},[S,h]),e(function(){S&&s&&(S.setCalculator(s),S.redraw())},[S,s]),e(function(){S&&g&&(S.setStyles(g),S.redraw())},[S,g]),d(S,"clusterclick",y),d(S,"clusterover",O),d(S,"clusterout",I),d(S,"clusterdblclick",C),d(S,"clusterrightclick",M),d(S,"clustered",b),S?n.createElement(w.Provider,{value:S},r):null}),C=n.forwardRef(function(t,o){var r=t.map,s=t.position,u=t.children,c=t.altitude,p=t.clickable,f=t.draggable,k=t.image,m=t.infoWindowOptions,g=t.onCreate,v=t.onClick,y=t.onDragEnd,C=t.onDragStart,b=t.onMouseOut,I=t.onMouseOver,O=t.opacity,M=t.range,L=t.title,x=t.zIndex,S=a(w),z=l(function(){return new kakao.maps.Marker({altitude:c,clickable:p,draggable:f,image:k,opacity:O,range:M,title:L,zIndex:x,position:s})},[]);return i(o,function(){return z},[z]),e(function(){return S?S.addMarker(z):z.setMap(r),function(){S?S.removeMarker(z):z.setMap(null)}},[r,S,z]),e(function(){g&&g(z)},[z,g]),d(z,"click",v),d(z,"dragstart",C),d(z,"dragend",y),d(z,"mouseout",b),d(z,"mouseover",I),e(function(){r&&z&&s&&z.setPosition(s)},[r,z,s]),e(function(){r&&z&&k&&z.setImage(k)},[r,z,k]),e(function(){r&&z&&c&&z.setAltitude(c)},[r,z,c]),e(function(){r&&z&&void 0!==p&&z.setClickable(p)},[r,z,p]),e(function(){r&&z&&void 0!==f&&z.setDraggable(f)},[r,z,f]),e(function(){r&&z&&O&&z.setOpacity(O)},[r,z,O]),e(function(){r&&z&&M&&z.setRange(M)},[r,z,M]),e(function(){r&&z&&L&&z.setTitle(L)},[r,z,L]),e(function(){r&&z&&x&&z.setZIndex(x)},[r,z,x]),u?n.createElement(h,{position:s,map:r,marker:z,altitude:null==m?void 0:m.altitude,disableAutoPan:null==m?void 0:m.disableAutoPan,range:null==m?void 0:m.range,removable:null==m?void 0:m.removable,zIndex:null==m?void 0:m.zIndex},u):null}),b=n.forwardRef(function(e,t){var o=e.image,r=e.position,i=e.children,a=e.clickable,s=e.draggable,u=e.infoWindowOptions,c=e.onClick,d=e.onDragEnd,p=e.onDragStart,f=e.onMouseOut,k=e.onMouseOver,m=e.onCreate,g=e.opacity,h=e.title,w=e.zIndex,y=v("MapMarker"),b=l(function(){var n,e,t,r,i,a,l,s,u,c,d,p;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(n=o.options)?void 0:n.alt,coords:null==(e=o.options)?void 0:e.coords,offset:(null==(t=o.options)?void 0:t.offset)&&new kakao.maps.Point(null==(r=o.options)?void 0:r.offset.x,null==(i=o.options)?void 0:i.offset.y),shape:null==(a=o.options)?void 0:a.shape,spriteOrigin:(null==(l=o.options)?void 0:l.spriteOrigin)&&new kakao.maps.Point(null==(s=o.options)?void 0:s.spriteOrigin.x,null==(u=o.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=o.options)?void 0:d.spriteSize.width,null==(p=o.options)?void 0:p.spriteSize.height)})},[o]),I=l(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):new kakao.maps.Coords(r.x,r.y).toLatLng()},[r.lat,r.lng,r.x,r.y]);return n.createElement(C,{map:y,position:I,image:b,clickable:a,draggable:s,infoWindowOptions:u,onClick:c,onDragEnd:d,onDragStart:p,onMouseOut:f,onMouseOver:k,onCreate:m,opacity:g,title:h,zIndex:w,ref:t},i)}),I=n.forwardRef(function(e,t){var o=e.position,r=e.children,i=e.disableAutoPan,a=e.removable,s=e.zIndex,u=e.onCreate,c=v("MapInfoWindow"),d=l(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]);return n.createElement(h,{disableAutoPan:i,removable:a,zIndex:s,map:c,position:d,onCreate:u,ref:t},r)}),O=n.forwardRef(function(n,t){var o=n.position,u=n.children,c=n.clickable,d=n.xAnchor,p=n.yAnchor,f=n.zIndex,k=n.onCreate,m=a(w),g=v("CustomOverlayMap"),h=r(document.createElement("div")),y=l(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),C=l(function(){var n=new kakao.maps.CustomOverlay({clickable:c,xAnchor:d,yAnchor:p,zIndex:f,position:y,content:h.current});return h.current.style.display="none",n},[c,d,p]);return i(t,function(){return C},[C]),e(function(){if(g)return m?m.addMarker(C):C.setMap(g),function(){m?m.removeMarker(C):C.setMap(null)}},[g,m,C]),e(function(){k&&k(C)},[C,k]),e(function(){C.setPosition(y)},[C,y]),e(function(){f&&C.setZIndex(f)},[C,f]),h.current.parentElement&&s.createPortal(u,h.current.parentElement)}),M=n.forwardRef(function(n,t){var o=n.position,r=void 0===o?kakao.maps.ControlPosition.TOPRIGHT:o,a=v("MapTypeControl"),s=l(function(){return new kakao.maps.MapTypeControl},[]);return i(t,function(){return s},[s]),e(function(){return a.addControl(s,r),function(){a.removeControl(s)}},[a,s,r]),null}),L=n.forwardRef(function(n,e){var o=n.position,r=void 0===o?kakao.maps.ControlPosition.RIGHT:o,a=v("ZoomControl"),s=l(function(){return new kakao.maps.ZoomControl},[]);return i(e,function(){return s},[s]),t(function(){return a.addControl(s,r),function(){a.removeControl(s)}},[a,r]),null}),x=function(n){var e=n.type,o=v("MapTypeId");return t(function(){return o.addOverlayMapTypeId(e),function(){o.removeOverlayMapTypeId(e)}},[o,e]),null},S=n.forwardRef(function(n,t){var o=n.center,r=n.radius,a=n.fillColor,s=n.fillOpacity,u=n.strokeColor,c=n.strokeOpacity,p=n.strokeStyle,f=n.strokeWeight,k=n.zIndex,m=n.onMouseover,g=n.onMouseout,h=n.onMousemove,w=n.onMousedown,y=n.onClick,C=n.onCreate,b=v("Circle"),I=l(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),O=l(function(){return new kakao.maps.Circle({center:I,radius:r,fillColor:a,fillOpacity:s,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:f,zIndex:k})},[]);return i(t,function(){return O},[O]),e(function(){return O.setMap(b),function(){O.setMap(null)}},[b,O]),e(function(){C&&C(O)},[O,C]),e(function(){O&&O.setPosition(I)},[O,I]),e(function(){O.setRadius(r)},[O,r]),e(function(){k&&O.setZIndex(k)},[O,k]),e(function(){O.setOptions({fillColor:a,fillOpacity:s,strokeColor:u,strokeOpacity:c,strokeStyle:p,strokeWeight:f})},[O,a,s,u,c,p,f]),d(O,"mouseover",m),d(O,"mouseout",g),d(O,"mousemove",h),d(O,"mousedown",w),d(O,"click",y),null}),z=n.forwardRef(function(n,t){var o=n.path,r=n.endArrow,a=n.onClick,s=n.onMousedown,u=n.onMousemove,c=n.onMouseout,p=n.onMouseover,f=n.onCreate,k=n.strokeColor,m=n.strokeOpacity,g=n.strokeStyle,h=n.strokeWeight,w=n.zIndex,y=v("Polyline"),C=l(function(){return o.every(function(n){return n instanceof Array})?o.map(function(n){return n.map(function(n){return new kakao.maps.LatLng(n.lat,n.lng)})}):o.map(function(n){return new kakao.maps.LatLng(n.lat,n.lng)})},[o]),b=l(function(){return new kakao.maps.Polyline({path:C,endArrow:r,strokeColor:k,strokeOpacity:m,strokeStyle:g,strokeWeight:h,zIndex:w})},[]);return i(t,function(){return b},[b]),e(function(){return b.setMap(y),function(){return b.setMap(null)}},[y,b]),e(function(){f&&f(b)},[b,f]),e(function(){b.setOptions({endArrow:r,strokeColor:k,strokeOpacity:m,strokeStyle:g,strokeWeight:h})},[b,r,k,m,g,h]),e(function(){b.setPath(C)},[b,C]),e(function(){w&&b.setZIndex(w)},[b,w]),d(b,"mouseover",p),d(b,"mouseout",c),d(b,"mousemove",u),d(b,"mousedown",s),d(b,"click",a),null}),E=n.forwardRef(function(n,t){var o=n.path,r=n.onClick,a=n.onMousedown,s=n.onMousemove,u=n.onMouseout,c=n.onMouseover,p=n.onCreate,f=n.strokeColor,k=n.strokeOpacity,m=n.strokeStyle,g=n.strokeWeight,h=n.fillColor,w=n.fillOpacity,y=n.zIndex,C=v("Polygon"),b=l(function(){return o.every(function(n){return n instanceof Array})?o.map(function(n){return n.map(function(n){return new kakao.maps.LatLng(n.lat,n.lng)})}):o.map(function(n){return new kakao.maps.LatLng(n.lat,n.lng)})},[o]),I=l(function(){return new kakao.maps.Polygon({path:b,fillColor:h,fillOpacity:w,strokeColor:f,strokeOpacity:k,strokeStyle:m,strokeWeight:g,zIndex:y})},[]);return i(t,function(){return I},[I]),e(function(){return I.setMap(C),function(){return I.setMap(null)}},[C,I]),e(function(){p&&p(I)},[I,p]),e(function(){I.setOptions({fillColor:h,fillOpacity:w,strokeColor:f,strokeOpacity:k,strokeStyle:m,strokeWeight:g})},[I,h,w,f,k,m,g]),e(function(){I.setPath(b)},[I,b]),e(function(){y&&I.setZIndex(y)},[I,y]),d(I,"mouseover",c),d(I,"mouseout",u),d(I,"mousemove",s),d(I,"mousedown",a),d(I,"click",r),null}),P=n.forwardRef(function(n,t){var o=n.bounds,r=n.onClick,a=n.onMousedown,s=n.onMousemove,u=n.onMouseout,c=n.onMouseover,p=n.onCreate,f=n.strokeColor,k=n.strokeOpacity,m=n.strokeStyle,g=n.strokeWeight,h=n.fillColor,w=n.fillOpacity,y=n.zIndex,C=v("Rectangle"),b=l(function(){return new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))},[o]),I=l(function(){return new kakao.maps.Rectangle({bounds:b,fillColor:h,fillOpacity:w,strokeColor:f,strokeOpacity:k,strokeStyle:m,strokeWeight:g,zIndex:y})},[]);return i(t,function(){return I},[I]),e(function(){return I.setMap(C),function(){return I.setMap(null)}},[C,I]),e(function(){p&&p(I)},[I,p]),e(function(){I.setOptions({fillColor:h,fillOpacity:w,strokeColor:f,strokeOpacity:k,strokeStyle:m,strokeWeight:g})},[I,h,w,f,k,m,g]),e(function(){I.setBounds(b)},[I,b]),e(function(){y&&I.setZIndex(y)},[I,y]),d(I,"mouseover",c),d(I,"mouseout",u),d(I,"mousemove",s),d(I,"mousedown",a),d(I,"click",r),null}),R=n.forwardRef(function(n,t){var o=n.center,r=n.rx,a=n.ry,s=n.fillColor,u=n.fillOpacity,c=n.strokeColor,p=n.strokeOpacity,f=n.strokeStyle,k=n.strokeWeight,m=n.zIndex,g=n.onMouseover,h=n.onMouseout,w=n.onMousemove,y=n.onMousedown,C=n.onClick,b=n.onCreate,I=v("Ellipse"),O=l(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),M=l(function(){return new kakao.maps.Ellipse({center:O,rx:r,ry:a,fillColor:s,fillOpacity:u,strokeColor:c,strokeOpacity:p,strokeStyle:f,strokeWeight:k,zIndex:m})},[]);return i(t,function(){return M},[M]),e(function(){return M.setMap(I),function(){M.setMap(null)}},[I,M]),e(function(){b&&b(M)},[M,b]),e(function(){M&&M.setPosition(O)},[M,O]),e(function(){M.setRadius(r,a)},[M,r,a]),e(function(){m&&M.setZIndex(m)},[M,m]),e(function(){M.setOptions({fillColor:s,fillOpacity:u,strokeColor:c,strokeOpacity:p,strokeStyle:f,strokeWeight:k})},[M,s,u,c,p,f,k]),d(M,"mouseover",g),d(M,"mouseout",h),d(M,"mousemove",w),d(M,"mousedown",y),d(M,"click",C),null}),A=n.forwardRef(function(n,t){var o=n.draw,r=n.onAdd,a=n.onRemove,s=n.onCreate,u=v(),c=l(function(){return new(/*#__PURE__*/function(n){var e,t;function o(e,t,o){var r;return(r=n.call(this)||this).draw=e,r.onAdd=t,r.onRemove=o,r}return t=n,(e=o).prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t),o}(kakao.maps.AbstractOverlay))(o,r,a)},[o,r,a]);return i(t,function(){return c},[c]),e(function(){return c.setMap(u),function(){c.setMap(null)}},[u,c]),e(function(){s&&s(c)},[c,s]),null}),D=n.createContext(void 0),T=n.forwardRef(function(e,t){var a=e.id,l=void 0===a?"react-kakao-maps-sdk-roadview-container":a,s=e.style,u=e.children,p=e.position,f=e.className,m=e.pan,g=e.panoId,v=e.panoX,h=e.panoY,w=e.tilt,y=e.zoom,C=e.onCreate,b=e.onInit,I=e.onPanoidChange,O=e.onPositionChanged,M=e.onViewpointChange,L=e.onErrorGetNearestPanoId,x=o(!1),S=x[0],z=x[1],E=o(!0),P=E[0],R=E[1],A=o(),T=A[0],W=A[1],Z=r(null);return c(function(){k.isLoaded().then(z)},[]),c(function(){if(S&&Z.current){var n=new kakao.maps.Roadview(Z.current,{pan:m,panoId:g,panoX:v,panoY:h,tilt:w,zoom:y});W(n)}},[S,v,h,y]),i(t,function(){return T},[T]),c(function(){T&&C&&C(T)},[T,C]),c(function(){if(T&&!g&&(T.getPosition().getLat()!==p.lat||T.getPosition().getLng()!==p.lng)){var n=new kakao.maps.LatLng(p.lat,p.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(n,p.radius,function(e){null===e&&L?L(T):T.setPanoId(e,n)})}},[T,g,p.lat,p.lng,p.radius,L]),c(function(){if(T&&g&&g!==T.getPanoId()&&(T.getPosition().getLat()!==p.lat||T.getPosition().getLng()!==p.lng)){var n=new kakao.maps.LatLng(p.lat,p.lng);T.setPanoId(g,n)}},[T,g,p.lat,p.lng]),c(function(){if(T){var n=T.getViewpoint();n.pan===m&&n.tilt===w||(m&&(n.pan=m),w&&(n.tilt=w),T.setViewpoint(n))}},[T,m,w]),d(T,"init",function(n){R(!1),b&&b(n)}),d(T,"panoid_changed",I),d(T,"viewpoint_changed",M),d(T,"position_changed",O),n.createElement(n.Fragment,null,n.createElement("div",{id:l,className:f,style:s,ref:Z}),T&&!P&&n.createElement(D.Provider,{value:T},u))}),W=function(n){var e=a(D);if(!e)throw new Error((n?n+" Component":"useRoadview")+" must exist inside Roadview Component!");return e},Z=n.forwardRef(function(n,t){var o=n.position,a=n.children,u=n.clickable,c=n.xAnchor,d=n.yAnchor,p=n.zIndex,f=n.altitude,k=n.range,m=n.onCreate,g=W("CustomOverlayRoadview"),v=r(document.createElement("div")),h=l(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),w=l(function(){var n=new kakao.maps.CustomOverlay({clickable:u,xAnchor:c,yAnchor:d,zIndex:p,position:h,content:v.current});return v.current.style.display="none",n},[u,c,d]);return i(t,function(){return w},[w]),e(function(){if(g)return w.setMap(g),function(){w.setMap(null)}},[w,g]),e(function(){m&&m(w)},[w,m]),e(function(){w.setPosition(h)},[w,h]),e(function(){p&&w.setZIndex(p)},[w,p]),e(function(){f&&w.setAltitude(f)},[w,f]),e(function(){k&&w.setRange(k)},[w,k]),v.current.parentElement&&s.createPortal(a,v.current.parentElement)}),N=n.forwardRef(function(e,t){var o=e.image,r=e.position,i=e.children,a=e.altitude,s=e.clickable,u=e.infoWindowOptions,c=e.onClick,d=e.onDragEnd,p=e.onDragStart,f=e.onMouseOut,k=e.onMouseOver,m=e.onCreate,g=e.opacity,v=e.range,h=e.title,w=e.zIndex,y=W("RoadviewMarker"),b=l(function(){var n,e,t,r,i,a,l,s,u,c,d,p;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(n=o.options)?void 0:n.alt,coords:null==(e=o.options)?void 0:e.coords,offset:(null==(t=o.options)?void 0:t.offset)&&new kakao.maps.Point(null==(r=o.options)?void 0:r.offset.x,null==(i=o.options)?void 0:i.offset.y),shape:null==(a=o.options)?void 0:a.shape,spriteOrigin:(null==(l=o.options)?void 0:l.spriteOrigin)&&new kakao.maps.Point(null==(s=o.options)?void 0:s.spriteOrigin.x,null==(u=o.options)?void 0:u.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(d=o.options)?void 0:d.spriteSize.width,null==(p=o.options)?void 0:p.spriteSize.height)})},[o]),I=l(function(){return"lat"in r?new kakao.maps.LatLng(r.lat,r.lng):"x"in r?new kakao.maps.Coords(r.x,r.y).toLatLng():new kakao.maps.Viewpoint(r.pan,r.tilt,r.zoom,r.panoId)},[r.lat,r.lng,r.x,r.y,r.pan,r.tilt,r.zoom,null==r?void 0:r.panoId]);return n.createElement(C,{map:y,position:I,image:b,altitude:a,clickable:s,infoWindowOptions:u,onClick:c,onDragEnd:d,onDragStart:p,onMouseOut:f,onMouseOver:k,onCreate:m,opacity:g,range:v,title:h,zIndex:w,ref:t},i)}),_=n.forwardRef(function(e,t){var o=e.position,r=e.children,i=e.altitude,a=e.disableAutoPan,s=e.range,u=e.removable,c=e.zIndex,d=e.onCreate,p=W("RoadviewInfoWindow"),f=l(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]);return n.createElement(h,{altitude:i,disableAutoPan:a,range:s,removable:u,zIndex:c,map:p,position:f,onCreate:d,ref:t},r)}),j=n.createContext(void 0);function F(n,t,o){e(function(){n&&o&&n.addListener(t,function(){var e=[].slice.call(arguments);return void 0===e?o(n):o.apply(void 0,[n].concat(e))})},[o,n,t])}var U=n.forwardRef(function(t,o){var r=t.arrowOptions,a=t.circleOptions,s=t.ellipseOptions,u=t.markerOptions,c=t.polygonOptions,d=t.polylineOptions,p=t.rectangleOptions,f=t.drawingMode,k=t.guideTooltip,m=t.onSelect,g=t.onDrawstart,h=t.onDraw,w=t.onDrawend,y=t.onDrawnext,C=t.onCancle,b=t.onRemove,I=t.onStateChanged,O=t.onCreate,M=t.children,L=v("Toolbox"),x=l(function(){if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:L,drawingMode:f,guideTooltip:k,arrowOptions:r,circleOptions:a,ellipseOptions:s,markerOptions:u,polygonOptions:c,polylineOptions:d,rectangleOptions:p});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return i(o,function(){return x},[x]),e(function(){x&&O&&O(x)},[x,O]),F(x,"select",m),F(x,"drawstart",g),F(x,"draw",h),F(x,"drawend",w),F(x,"drawnext",y),F(x,"cancel",C),F(x,"remove",b),F(x,"state_changed",I),x?n.createElement(j.Provider,{value:x},M):null}),G=n.forwardRef(function(n,t){var o=n.position;o=o||kakao.maps.ControlPosition.TOP;var r=v("Toolbox"),s=a(j);if(!s)throw new Error("Toolbox must exist inside DrawingManager Component!`");var u=l(function(){return new kakao.maps.drawing.Toolbox({drawingManager:s})},[s]);return i(t,function(){return u},[u]),e(function(){var n=u.getElement();return r.addControl(n,o),function(){r.removeControl(n)}},[r,u,o]),null}),V=n.forwardRef(function(e,t){var a=e.id,l=void 0===a?"react-kakao-maps-sdk-staticmap-container":a,s=e.style,u=e.className,d=e.center,f=e.marker,k=e.level,m=e.mapTypeId,g=e.onCreate,v=o(),h=v[0],w=v[1],y=r(null);return c(function(){if(window.kakao){var n=y.current;n&&kakao.maps.load(function(){var e=Array.isArray(f)?f.map(function(n){return p({},n,{position:new kakao.maps.LatLng(n.position.lat,n.position.lng)})}):"object"==typeof f&&f.position?p({},f,{position:new kakao.maps.LatLng(f.position.lat,f.position.lng)}):f,t=new kakao.maps.StaticMap(n,{center:new kakao.maps.LatLng(d.lat,d.lng),level:k,mapTypeId:m,marker:e});w(t)})}else console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`")},[JSON.stringify(f)]),i(t,function(){return h},[h]),c(function(){h&&h.setCenter(new kakao.maps.LatLng(d.lat,d.lng))},[h,d.lat,d.lng]),c(function(){h&&k&&h.setLevel(k)},[h,k]),c(function(){h&&m&&h.setMapTypeId(m)},[h,m]),c(function(){h&&g&&g(h)},[h,g]),n.createElement("div",{id:l,style:s,className:u,ref:y})}),B=function(n){var e=o({loading:!0,error:void 0}),r=e[0],i=e[1],a=l(function(){return new k(n)},[JSON.stringify(n)]);return t(function(){a.load().then(function(){return i({loading:!1,error:void 0})}).catch(function(n){return i({loading:!1,error:n})})},[a]),r};export{A as AbstractOverlay,S as Circle,O as CustomOverlayMap,Z as CustomOverlayRoadview,U as DrawingManager,R as Ellipse,k as Loader,g as Map,I as MapInfoWindow,b as MapMarker,M as MapTypeControl,x as MapTypeId,y as MarkerClusterer,E as Polygon,z as Polyline,P as Rectangle,T as Roadview,_ as RoadviewInfoWindow,N as RoadviewMarker,V as StaticMap,G as Toolbox,L as ZoomControl,B as useInjectKakaoMapApi,v as useMap,W as useRoadview};
//# sourceMappingURL=index.module.js.map
