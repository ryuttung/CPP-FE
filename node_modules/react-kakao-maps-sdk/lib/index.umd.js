!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e||self).reactKakaoMapsSdk={},e.react,e.reactDom)}(this,function(e,t,n){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a,r=/*#__PURE__*/o(t),i=/*#__PURE__*/o(n),u="undefined"!=typeof window&&"undefined"!=typeof document?t.useLayoutEffect:t.useEffect,s=function(e,t,n){u(function(){if(e&&n){var o=function(){var t=[].slice.call(arguments);return void 0===t?n(e):n.apply(void 0,[e].concat(t))};return kakao.maps.event.addListener(e,t,o),function(){kakao.maps.event.removeListener(e,t,o)}}},[e,t,n])};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(a||(a={}));var f=/*#__PURE__*/function(){function e(t){var n=t.appkey,o=t.id,a=void 0===o?"__reactKakaoMapsSdkloaderId":o,r=t.libraries,i=void 0===r?[]:r,u=t.nonce,s=t.retries,l=void 0===s?3:s,c=t.url,f=void 0===c?"//dapi.kakao.com/v2/maps/sdk.js":c;if(this.id=void 0,this.appkey=void 0,this.url=void 0,this.libraries=void 0,this.nonce=void 0,this.retries=void 0,this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0,this.id=a,this.appkey=n,this.libraries=i,this.nonce=u,this.retries=l,this.url=f,e.instance){if(!e.equalOptions(this.options,e.instance.options))throw new Error("Loader must not be called again with different options. "+JSON.stringify(this.options)+" !== "+JSON.stringify(e.instance.options));return e.instance}e.instance=this}e.isLoaded=function(){return new Promise(function(t){return window.kakao&&window.kakao.maps?t(!0):e.instance?e.instance.status===a.FAILURE||e.instance.status===a.INITIALIZED?t(!1):(e.instance.status===a.LOADING&&e.loadcheckcallbacks.push(function(e){return t(!e)}),t(!0)):e.loadcheckcallbacks.push(function(e){t(!e)})})};var t,n,o=e.prototype;return o.load=function(){var e=this;return new Promise(function(t,n){e.loadCallback(function(e){e?n(e.error):t(window.kakao)})})},o.loadCallback=function(e){this.callbacks.push(e),this.execute()},o.resetIfRetryingFailed=function(){this.failed&&this.reset()},o.reset=function(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=void 0},o.execute=function(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps)return console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),void this.callback();this.loading||(this.loading=!0,this.setScript())}},o.setScript=function(){document.getElementById(this.id)&&this.callback();var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)},o.loadErrorCallback=function(e,t,n,o,a){var r=this;if(this.errors.push({event:e,source:t,lineno:n,colno:o,error:a}),this.errors.length<=this.retries){var i=this.errors.length*Math.pow(2,this.errors.length);console.log("Failed to load Kakao Maps script, retrying in "+i+" ms."),setTimeout(function(){r.deleteScript(),r.setScript()},i)}else this.onerrorEvent=this.errors[this.errors.length-1],this.callback()},o.createUrl=function(){var e=this.url;return e+="?appkey="+this.appkey,this.libraries.length&&(e+="&libraries="+this.libraries.join(",")),e+"&autoload=false"},o.deleteScript=function(){var e=document.getElementById(this.id);e&&e.remove()},o.callback=function(){var t=this;kakao.maps.load(function(){t.done=!0,t.loading=!1,t.callbacks.forEach(function(e){e(t.onerrorEvent)}),t.callbacks=[],e.loadcheckcallbacks.forEach(function(e){e(t.onerrorEvent)}),e.loadcheckcallbacks=[]})},e.equalOptions=function(e,t){if(e.appkey!==t.appkey)return!1;if(e.id!==t.id)return!1;if(e.libraries.length!==t.libraries.length)return!1;for(var n=0;n<e.libraries.length;++n)if(e.libraries[n]!==t.libraries[n])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url},t=e,(n=[{key:"options",get:function(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}},{key:"status",get:function(){return this.onerrorEvent?a.FAILURE:this.done?a.SUCCESS:this.loading?a.LOADING:a.INITIALIZED}},{key:"failed",get:function(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();f.instance=void 0,f.loadcheckcallbacks=[];var d=r.default.createContext(void 0),p=r.default.forwardRef(function(e,n){var o=e.id,a=void 0===o?"react-kakao-maps-sdk-map-container":o,i=e.style,l=e.children,c=e.center,p=e.isPanto,k=void 0!==p&&p,m=e.padding,v=void 0===m?32:m,g=e.className,y=e.disableDoubleClick,h=e.disableDoubleClickZoom,w=e.draggable,L=e.zoomable,C=e.keyboardShortcuts,E=e.level,M=e.maxLevel,b=e.minLevel,I=e.mapTypeId,O=e.projectionId,x=e.scrollwheel,S=e.tileAnimation,z=e.onBoundsChanged,R=e.onCenterChanged,P=e.onClick,A=e.onDoubleClick,D=e.onDrag,T=e.onDragEnd,W=e.onDragStart,Z=e.onIdle,H=e.onMaptypeidChanged,N=e.onMouseMove,j=e.onRightClick,_=e.onTileLoaded,F=e.onZoomChanged,U=e.onZoomStart,G=e.onCreate,q=t.useState(!1),K=q[0],V=q[1],B=t.useState(),J=B[0],X=B[1],Y=t.useRef(null);return u(function(){f.isLoaded().then(V)},[]),u(function(){if(K){var e=Y.current;if(e){var t="lat"in c?new kakao.maps.LatLng(c.lat,c.lng):new kakao.maps.Coords(c.x,c.y),n=new kakao.maps.Map(e,{center:t,disableDoubleClick:y,disableDoubleClickZoom:h,draggable:w,keyboardShortcuts:C,level:E,mapTypeId:I,projectionId:O,scrollwheel:x,tileAnimation:S});X(n)}}},[K,y,h,I,S]),t.useImperativeHandle(n,function(){return J},[J]),u(function(){J&&G&&G(J)},[J,G]),u(function(){if(J){var e=J.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());var t="lat"in c?new kakao.maps.LatLng(c.lat,c.lng):new kakao.maps.Coords(c.x,c.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(k?J.panTo(t,v):J.setCenter(t))}},[J,c.lat,c.lng,c.x,c.y]),u(function(){J&&void 0!==w&&J.setDraggable(w)},[J,w]),u(function(){J&&void 0!==L&&J.setZoomable(L)},[J,L]),u(function(){J&&C&&"boolean"==typeof C&&J.setKeyboardShortcuts(C)},[J,C]),u(function(){J&&E&&J.setLevel(E)},[J,E]),u(function(){J&&I&&J.setMapTypeId(I)},[J,I]),u(function(){J&&O&&J.setProjectionId(O)},[J,O]),u(function(){J&&M&&J.setMaxLevel(M)},[J,M]),u(function(){J&&b&&J.setMinLevel(b)},[J,b]),s(J,"bounds_changed",z),s(J,"center_changed",R),s(J,"click",P),s(J,"dblclick",A),s(J,"drag",D),s(J,"dragstart",W),s(J,"dragend",T),s(J,"idle",Z),s(J,"maptypeid_changed",H),s(J,"mousemove",N),s(J,"rightclick",j),s(J,"tilesloaded",_),s(J,"zoom_changed",F),s(J,"zoom_start",U),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{id:a,style:i,className:g,ref:Y}),J&&r.default.createElement(d.Provider,{value:J},l))}),k=function(e){var n=t.useContext(d);if(!n)throw new Error((e?e+" Component":"useMap")+" must exist inside Map Component!");return n},m=r.default.forwardRef(function(e,n){var o=e.map,a=e.position,r=e.marker,u=e.children,s=e.altitude,l=e.disableAutoPan,c=e.range,f=e.removable,d=e.zIndex,p=e.onCreate,k=t.useRef(document.createElement("div")),m=t.useMemo(function(){var e=new kakao.maps.InfoWindow({altitude:s,disableAutoPan:l,range:c,removable:f,zIndex:d,content:k.current,position:a});return k.current.style.display="none",e},[l,f]);return t.useImperativeHandle(n,function(){return m},[m]),t.useLayoutEffect(function(){return m.open(o,r),function(){m.close()}},[o,r]),t.useLayoutEffect(function(){p&&p(m)},[m,p]),t.useLayoutEffect(function(){m&&m.setPosition(a)},[m,a]),t.useLayoutEffect(function(){m&&s&&m.setAltitude(s)},[m,s]),t.useLayoutEffect(function(){m&&c&&m.setRange(c)},[m,c]),t.useLayoutEffect(function(){m&&d&&m.setZIndex(d)},[m,d]),k.current.parentElement&&i.default.createPortal(u,k.current.parentElement)}),v=r.default.createContext(void 0),g=r.default.forwardRef(function(e,n){var o=e.children,a=e.averageCenter,i=e.calculator,u=e.clickable,l=e.disableClickZoom,c=e.gridSize,f=e.hoverable,d=e.minClusterSize,p=e.minLevel,m=e.styles,g=e.texts,y=e.onClusterclick,h=e.onClusterdblclick,w=e.onClustered,L=e.onClusterout,C=e.onClusterover,E=e.onClusterrightclick,M=e.onCreate,b=k("MarkerClusterer"),I=t.useMemo(function(){if(window.kakao.maps.MarkerClusterer)return new kakao.maps.MarkerClusterer({averageCenter:a,calculator:i,clickable:u,disableClickZoom:l,gridSize:c,hoverable:f,minClusterSize:d,minLevel:p,styles:m,texts:g});console.warn("clusterer 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return t.useImperativeHandle(n,function(){return I},[I]),t.useLayoutEffect(function(){null==I||I.setMap(b)},[b,I]),t.useLayoutEffect(function(){I&&M&&M(I)},[I,M]),t.useLayoutEffect(function(){I&&c&&(I.setGridSize(c),I.redraw())},[I,c]),t.useLayoutEffect(function(){I&&d&&(I.setMinClusterSize(d),I.redraw())},[I,d]),t.useLayoutEffect(function(){I&&void 0!==a&&(I.setAverageCenter(a),I.redraw())},[I,a]),t.useLayoutEffect(function(){I&&p&&(I.setMinLevel(p),I.redraw())},[I,p]),t.useLayoutEffect(function(){I&&g&&(I.setTexts(g),I.redraw())},[I,g]),t.useLayoutEffect(function(){I&&i&&(I.setCalculator(i),I.redraw())},[I,i]),t.useLayoutEffect(function(){I&&m&&(I.setStyles(m),I.redraw())},[I,m]),s(I,"clusterclick",y),s(I,"clusterover",C),s(I,"clusterout",L),s(I,"clusterdblclick",h),s(I,"clusterrightclick",E),s(I,"clustered",w),I?r.default.createElement(v.Provider,{value:I},o):null}),y=r.default.forwardRef(function(e,n){var o=e.map,a=e.position,i=e.children,u=e.altitude,l=e.clickable,c=e.draggable,f=e.image,d=e.infoWindowOptions,p=e.onCreate,k=e.onClick,g=e.onDragEnd,y=e.onDragStart,h=e.onMouseOut,w=e.onMouseOver,L=e.opacity,C=e.range,E=e.title,M=e.zIndex,b=t.useContext(v),I=t.useMemo(function(){return new kakao.maps.Marker({altitude:u,clickable:l,draggable:c,image:f,opacity:L,range:C,title:E,zIndex:M,position:a})},[]);return t.useImperativeHandle(n,function(){return I},[I]),t.useLayoutEffect(function(){return b?b.addMarker(I):I.setMap(o),function(){b?b.removeMarker(I):I.setMap(null)}},[o,b,I]),t.useLayoutEffect(function(){p&&p(I)},[I,p]),s(I,"click",k),s(I,"dragstart",y),s(I,"dragend",g),s(I,"mouseout",h),s(I,"mouseover",w),t.useLayoutEffect(function(){o&&I&&a&&I.setPosition(a)},[o,I,a]),t.useLayoutEffect(function(){o&&I&&f&&I.setImage(f)},[o,I,f]),t.useLayoutEffect(function(){o&&I&&u&&I.setAltitude(u)},[o,I,u]),t.useLayoutEffect(function(){o&&I&&void 0!==l&&I.setClickable(l)},[o,I,l]),t.useLayoutEffect(function(){o&&I&&void 0!==c&&I.setDraggable(c)},[o,I,c]),t.useLayoutEffect(function(){o&&I&&L&&I.setOpacity(L)},[o,I,L]),t.useLayoutEffect(function(){o&&I&&C&&I.setRange(C)},[o,I,C]),t.useLayoutEffect(function(){o&&I&&E&&I.setTitle(E)},[o,I,E]),t.useLayoutEffect(function(){o&&I&&M&&I.setZIndex(M)},[o,I,M]),i?r.default.createElement(m,{position:a,map:o,marker:I,altitude:null==d?void 0:d.altitude,disableAutoPan:null==d?void 0:d.disableAutoPan,range:null==d?void 0:d.range,removable:null==d?void 0:d.removable,zIndex:null==d?void 0:d.zIndex},i):null}),h=r.default.forwardRef(function(e,n){var o=e.image,a=e.position,i=e.children,u=e.clickable,s=e.draggable,l=e.infoWindowOptions,c=e.onClick,f=e.onDragEnd,d=e.onDragStart,p=e.onMouseOut,m=e.onMouseOver,v=e.onCreate,g=e.opacity,h=e.title,w=e.zIndex,L=k("MapMarker"),C=t.useMemo(function(){var e,t,n,a,r,i,u,s,l,c,f,d;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(n=o.options)?void 0:n.offset)&&new kakao.maps.Point(null==(a=o.options)?void 0:a.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(i=o.options)?void 0:i.shape,spriteOrigin:(null==(u=o.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=o.options)?void 0:s.spriteOrigin.x,null==(l=o.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=o.options)?void 0:f.spriteSize.width,null==(d=o.options)?void 0:d.spriteSize.height)})},[o]),E=t.useMemo(function(){return"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Coords(a.x,a.y).toLatLng()},[a.lat,a.lng,a.x,a.y]);return r.default.createElement(y,{map:L,position:E,image:C,clickable:u,draggable:s,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:m,onCreate:v,opacity:g,title:h,zIndex:w,ref:n},i)}),w=r.default.forwardRef(function(e,n){var o=e.position,a=e.children,i=e.disableAutoPan,u=e.removable,s=e.zIndex,l=e.onCreate,c=k("MapInfoWindow"),f=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]);return r.default.createElement(m,{disableAutoPan:i,removable:u,zIndex:s,map:c,position:f,onCreate:l,ref:n},a)}),L=r.default.forwardRef(function(e,n){var o=e.position,a=e.children,r=e.clickable,u=e.xAnchor,s=e.yAnchor,l=e.zIndex,c=e.onCreate,f=t.useContext(v),d=k("CustomOverlayMap"),p=t.useRef(document.createElement("div")),m=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),g=t.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:u,yAnchor:s,zIndex:l,position:m,content:p.current});return p.current.style.display="none",e},[r,u,s]);return t.useImperativeHandle(n,function(){return g},[g]),t.useLayoutEffect(function(){if(d)return f?f.addMarker(g):g.setMap(d),function(){f?f.removeMarker(g):g.setMap(null)}},[d,f,g]),t.useLayoutEffect(function(){c&&c(g)},[g,c]),t.useLayoutEffect(function(){g.setPosition(m)},[g,m]),t.useLayoutEffect(function(){l&&g.setZIndex(l)},[g,l]),p.current.parentElement&&i.default.createPortal(a,p.current.parentElement)}),C=r.default.forwardRef(function(e,n){var o=e.position,a=void 0===o?kakao.maps.ControlPosition.TOPRIGHT:o,r=k("MapTypeControl"),i=t.useMemo(function(){return new kakao.maps.MapTypeControl},[]);return t.useImperativeHandle(n,function(){return i},[i]),t.useLayoutEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,i,a]),null}),E=r.default.forwardRef(function(e,n){var o=e.position,a=void 0===o?kakao.maps.ControlPosition.RIGHT:o,r=k("ZoomControl"),i=t.useMemo(function(){return new kakao.maps.ZoomControl},[]);return t.useImperativeHandle(n,function(){return i},[i]),t.useEffect(function(){return r.addControl(i,a),function(){r.removeControl(i)}},[r,a]),null}),M=r.default.forwardRef(function(e,n){var o=e.center,a=e.radius,r=e.fillColor,i=e.fillOpacity,u=e.strokeColor,l=e.strokeOpacity,c=e.strokeStyle,f=e.strokeWeight,d=e.zIndex,p=e.onMouseover,m=e.onMouseout,v=e.onMousemove,g=e.onMousedown,y=e.onClick,h=e.onCreate,w=k("Circle"),L=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),C=t.useMemo(function(){return new kakao.maps.Circle({center:L,radius:a,fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:l,strokeStyle:c,strokeWeight:f,zIndex:d})},[]);return t.useImperativeHandle(n,function(){return C},[C]),t.useLayoutEffect(function(){return C.setMap(w),function(){C.setMap(null)}},[w,C]),t.useLayoutEffect(function(){h&&h(C)},[C,h]),t.useLayoutEffect(function(){C&&C.setPosition(L)},[C,L]),t.useLayoutEffect(function(){C.setRadius(a)},[C,a]),t.useLayoutEffect(function(){d&&C.setZIndex(d)},[C,d]),t.useLayoutEffect(function(){C.setOptions({fillColor:r,fillOpacity:i,strokeColor:u,strokeOpacity:l,strokeStyle:c,strokeWeight:f})},[C,r,i,u,l,c,f]),s(C,"mouseover",p),s(C,"mouseout",m),s(C,"mousemove",v),s(C,"mousedown",g),s(C,"click",y),null}),b=r.default.forwardRef(function(e,n){var o=e.path,a=e.endArrow,r=e.onClick,i=e.onMousedown,u=e.onMousemove,l=e.onMouseout,c=e.onMouseover,f=e.onCreate,d=e.strokeColor,p=e.strokeOpacity,m=e.strokeStyle,v=e.strokeWeight,g=e.zIndex,y=k("Polyline"),h=t.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),w=t.useMemo(function(){return new kakao.maps.Polyline({path:h,endArrow:a,strokeColor:d,strokeOpacity:p,strokeStyle:m,strokeWeight:v,zIndex:g})},[]);return t.useImperativeHandle(n,function(){return w},[w]),t.useLayoutEffect(function(){return w.setMap(y),function(){return w.setMap(null)}},[y,w]),t.useLayoutEffect(function(){f&&f(w)},[w,f]),t.useLayoutEffect(function(){w.setOptions({endArrow:a,strokeColor:d,strokeOpacity:p,strokeStyle:m,strokeWeight:v})},[w,a,d,p,m,v]),t.useLayoutEffect(function(){w.setPath(h)},[w,h]),t.useLayoutEffect(function(){g&&w.setZIndex(g)},[w,g]),s(w,"mouseover",c),s(w,"mouseout",l),s(w,"mousemove",u),s(w,"mousedown",i),s(w,"click",r),null}),I=r.default.forwardRef(function(e,n){var o=e.path,a=e.onClick,r=e.onMousedown,i=e.onMousemove,u=e.onMouseout,l=e.onMouseover,c=e.onCreate,f=e.strokeColor,d=e.strokeOpacity,p=e.strokeStyle,m=e.strokeWeight,v=e.fillColor,g=e.fillOpacity,y=e.zIndex,h=k("Polygon"),w=t.useMemo(function(){return o.every(function(e){return e instanceof Array})?o.map(function(e){return e.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})}):o.map(function(e){return new kakao.maps.LatLng(e.lat,e.lng)})},[o]),L=t.useMemo(function(){return new kakao.maps.Polygon({path:w,fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:m,zIndex:y})},[]);return t.useImperativeHandle(n,function(){return L},[L]),t.useLayoutEffect(function(){return L.setMap(h),function(){return L.setMap(null)}},[h,L]),t.useLayoutEffect(function(){c&&c(L)},[L,c]),t.useLayoutEffect(function(){L.setOptions({fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:m})},[L,v,g,f,d,p,m]),t.useLayoutEffect(function(){L.setPath(w)},[L,w]),t.useLayoutEffect(function(){y&&L.setZIndex(y)},[L,y]),s(L,"mouseover",l),s(L,"mouseout",u),s(L,"mousemove",i),s(L,"mousedown",r),s(L,"click",a),null}),O=r.default.forwardRef(function(e,n){var o=e.bounds,a=e.onClick,r=e.onMousedown,i=e.onMousemove,u=e.onMouseout,l=e.onMouseover,c=e.onCreate,f=e.strokeColor,d=e.strokeOpacity,p=e.strokeStyle,m=e.strokeWeight,v=e.fillColor,g=e.fillOpacity,y=e.zIndex,h=k("Rectangle"),w=t.useMemo(function(){return new kakao.maps.LatLngBounds(new kakao.maps.LatLng(o.sw.lat,o.sw.lng),new kakao.maps.LatLng(o.ne.lat,o.ne.lng))},[o]),L=t.useMemo(function(){return new kakao.maps.Rectangle({bounds:w,fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:m,zIndex:y})},[]);return t.useImperativeHandle(n,function(){return L},[L]),t.useLayoutEffect(function(){return L.setMap(h),function(){return L.setMap(null)}},[h,L]),t.useLayoutEffect(function(){c&&c(L)},[L,c]),t.useLayoutEffect(function(){L.setOptions({fillColor:v,fillOpacity:g,strokeColor:f,strokeOpacity:d,strokeStyle:p,strokeWeight:m})},[L,v,g,f,d,p,m]),t.useLayoutEffect(function(){L.setBounds(w)},[L,w]),t.useLayoutEffect(function(){y&&L.setZIndex(y)},[L,y]),s(L,"mouseover",l),s(L,"mouseout",u),s(L,"mousemove",i),s(L,"mousedown",r),s(L,"click",a),null}),x=r.default.forwardRef(function(e,n){var o=e.center,a=e.rx,r=e.ry,i=e.fillColor,u=e.fillOpacity,l=e.strokeColor,c=e.strokeOpacity,f=e.strokeStyle,d=e.strokeWeight,p=e.zIndex,m=e.onMouseover,v=e.onMouseout,g=e.onMousemove,y=e.onMousedown,h=e.onClick,w=e.onCreate,L=k("Ellipse"),C=t.useMemo(function(){return new kakao.maps.LatLng(o.lat,o.lng)},[o.lat,o.lng]),E=t.useMemo(function(){return new kakao.maps.Ellipse({center:C,rx:a,ry:r,fillColor:i,fillOpacity:u,strokeColor:l,strokeOpacity:c,strokeStyle:f,strokeWeight:d,zIndex:p})},[]);return t.useImperativeHandle(n,function(){return E},[E]),t.useLayoutEffect(function(){return E.setMap(L),function(){E.setMap(null)}},[L,E]),t.useLayoutEffect(function(){w&&w(E)},[E,w]),t.useLayoutEffect(function(){E&&E.setPosition(C)},[E,C]),t.useLayoutEffect(function(){E.setRadius(a,r)},[E,a,r]),t.useLayoutEffect(function(){p&&E.setZIndex(p)},[E,p]),t.useLayoutEffect(function(){E.setOptions({fillColor:i,fillOpacity:u,strokeColor:l,strokeOpacity:c,strokeStyle:f,strokeWeight:d})},[E,i,u,l,c,f,d]),s(E,"mouseover",m),s(E,"mouseout",v),s(E,"mousemove",g),s(E,"mousedown",y),s(E,"click",h),null}),S=r.default.forwardRef(function(e,n){var o=e.draw,a=e.onAdd,r=e.onRemove,i=e.onCreate,u=k(),s=t.useMemo(function(){return new(/*#__PURE__*/function(e){var t,n;function o(t,n,o){var a;return(a=e.call(this)||this).draw=t,a.onAdd=n,a.onRemove=o,a}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n),o}(kakao.maps.AbstractOverlay))(o,a,r)},[o,a,r]);return t.useImperativeHandle(n,function(){return s},[s]),t.useLayoutEffect(function(){return s.setMap(u),function(){s.setMap(null)}},[u,s]),t.useLayoutEffect(function(){i&&i(s)},[s,i]),null}),z=r.default.createContext(void 0),R=r.default.forwardRef(function(e,n){var o=e.id,a=void 0===o?"react-kakao-maps-sdk-roadview-container":o,i=e.style,l=e.children,c=e.position,d=e.className,p=e.pan,k=e.panoId,m=e.panoX,v=e.panoY,g=e.tilt,y=e.zoom,h=e.onCreate,w=e.onInit,L=e.onPanoidChange,C=e.onPositionChanged,E=e.onViewpointChange,M=e.onErrorGetNearestPanoId,b=t.useState(!1),I=b[0],O=b[1],x=t.useState(!0),S=x[0],R=x[1],P=t.useState(),A=P[0],D=P[1],T=t.useRef(null);return u(function(){f.isLoaded().then(O)},[]),u(function(){if(I&&T.current){var e=new kakao.maps.Roadview(T.current,{pan:p,panoId:k,panoX:m,panoY:v,tilt:g,zoom:y});D(e)}},[I,m,v,y]),t.useImperativeHandle(n,function(){return A},[A]),u(function(){A&&h&&h(A)},[A,h]),u(function(){if(A&&!k&&(A.getPosition().getLat()!==c.lat||A.getPosition().getLng()!==c.lng)){var e=new kakao.maps.LatLng(c.lat,c.lng);(new kakao.maps.RoadviewClient).getNearestPanoId(e,c.radius,function(t){null===t&&M?M(A):A.setPanoId(t,e)})}},[A,k,c.lat,c.lng,c.radius,M]),u(function(){if(A&&k&&k!==A.getPanoId()&&(A.getPosition().getLat()!==c.lat||A.getPosition().getLng()!==c.lng)){var e=new kakao.maps.LatLng(c.lat,c.lng);A.setPanoId(k,e)}},[A,k,c.lat,c.lng]),u(function(){if(A){var e=A.getViewpoint();e.pan===p&&e.tilt===g||(p&&(e.pan=p),g&&(e.tilt=g),A.setViewpoint(e))}},[A,p,g]),s(A,"init",function(e){R(!1),w&&w(e)}),s(A,"panoid_changed",L),s(A,"viewpoint_changed",E),s(A,"position_changed",C),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{id:a,className:d,style:i,ref:T}),A&&!S&&r.default.createElement(z.Provider,{value:A},l))}),P=function(e){var n=t.useContext(z);if(!n)throw new Error((e?e+" Component":"useRoadview")+" must exist inside Roadview Component!");return n},A=r.default.forwardRef(function(e,n){var o=e.position,a=e.children,r=e.clickable,u=e.xAnchor,s=e.yAnchor,l=e.zIndex,c=e.altitude,f=e.range,d=e.onCreate,p=P("CustomOverlayRoadview"),k=t.useRef(document.createElement("div")),m=t.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]),v=t.useMemo(function(){var e=new kakao.maps.CustomOverlay({clickable:r,xAnchor:u,yAnchor:s,zIndex:l,position:m,content:k.current});return k.current.style.display="none",e},[r,u,s]);return t.useImperativeHandle(n,function(){return v},[v]),t.useLayoutEffect(function(){if(p)return v.setMap(p),function(){v.setMap(null)}},[v,p]),t.useLayoutEffect(function(){d&&d(v)},[v,d]),t.useLayoutEffect(function(){v.setPosition(m)},[v,m]),t.useLayoutEffect(function(){l&&v.setZIndex(l)},[v,l]),t.useLayoutEffect(function(){c&&v.setAltitude(c)},[v,c]),t.useLayoutEffect(function(){f&&v.setRange(f)},[v,f]),k.current.parentElement&&i.default.createPortal(a,k.current.parentElement)}),D=r.default.forwardRef(function(e,n){var o=e.image,a=e.position,i=e.children,u=e.altitude,s=e.clickable,l=e.infoWindowOptions,c=e.onClick,f=e.onDragEnd,d=e.onDragStart,p=e.onMouseOut,k=e.onMouseOver,m=e.onCreate,v=e.opacity,g=e.range,h=e.title,w=e.zIndex,L=P("RoadviewMarker"),C=t.useMemo(function(){var e,t,n,a,r,i,u,s,l,c,f,d;return o&&new kakao.maps.MarkerImage(o.src,new kakao.maps.Size(o.size.width,o.size.height),{alt:null==(e=o.options)?void 0:e.alt,coords:null==(t=o.options)?void 0:t.coords,offset:(null==(n=o.options)?void 0:n.offset)&&new kakao.maps.Point(null==(a=o.options)?void 0:a.offset.x,null==(r=o.options)?void 0:r.offset.y),shape:null==(i=o.options)?void 0:i.shape,spriteOrigin:(null==(u=o.options)?void 0:u.spriteOrigin)&&new kakao.maps.Point(null==(s=o.options)?void 0:s.spriteOrigin.x,null==(l=o.options)?void 0:l.spriteOrigin.y),spriteSize:(null==(c=o.options)?void 0:c.spriteSize)&&new kakao.maps.Size(null==(f=o.options)?void 0:f.spriteSize.width,null==(d=o.options)?void 0:d.spriteSize.height)})},[o]),E=t.useMemo(function(){return"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):"x"in a?new kakao.maps.Coords(a.x,a.y).toLatLng():new kakao.maps.Viewpoint(a.pan,a.tilt,a.zoom,a.panoId)},[a.lat,a.lng,a.x,a.y,a.pan,a.tilt,a.zoom,null==a?void 0:a.panoId]);return r.default.createElement(y,{map:L,position:E,image:C,altitude:u,clickable:s,infoWindowOptions:l,onClick:c,onDragEnd:f,onDragStart:d,onMouseOut:p,onMouseOver:k,onCreate:m,opacity:v,range:g,title:h,zIndex:w,ref:n},i)}),T=r.default.forwardRef(function(e,n){var o=e.position,a=e.children,i=e.altitude,u=e.disableAutoPan,s=e.range,l=e.removable,c=e.zIndex,f=e.onCreate,d=P("RoadviewInfoWindow"),p=t.useMemo(function(){return"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Viewpoint(o.pan,o.tilt,o.zoom,o.panoId)},[o.lat,o.lng,o.pan,o.tilt,o.zoom,o.panoId]);return r.default.createElement(m,{altitude:i,disableAutoPan:u,range:s,removable:l,zIndex:c,map:d,position:p,onCreate:f,ref:n},a)}),W=r.default.createContext(void 0);function Z(e,n,o){t.useLayoutEffect(function(){e&&o&&e.addListener(n,function(){var t=[].slice.call(arguments);return void 0===t?o(e):o.apply(void 0,[e].concat(t))})},[o,e,n])}var H=r.default.forwardRef(function(e,n){var o=e.arrowOptions,a=e.circleOptions,i=e.ellipseOptions,u=e.markerOptions,s=e.polygonOptions,l=e.polylineOptions,c=e.rectangleOptions,f=e.drawingMode,d=e.guideTooltip,p=e.onSelect,m=e.onDrawstart,v=e.onDraw,g=e.onDrawend,y=e.onDrawnext,h=e.onCancle,w=e.onRemove,L=e.onStateChanged,C=e.onCreate,E=e.children,M=k("Toolbox"),b=t.useMemo(function(){if(window.kakao.maps.drawing)return new kakao.maps.drawing.DrawingManager({map:M,drawingMode:f,guideTooltip:d,arrowOptions:o,circleOptions:a,ellipseOptions:i,markerOptions:u,polygonOptions:s,polylineOptions:l,rectangleOptions:c});console.warn("drawing 라이브러리를 별도 로드 해야 사용 가능합니다. `https://apis.map.kakao.com/web/guide/#loadlibrary`")},[]);return t.useImperativeHandle(n,function(){return b},[b]),t.useLayoutEffect(function(){b&&C&&C(b)},[b,C]),Z(b,"select",p),Z(b,"drawstart",m),Z(b,"draw",v),Z(b,"drawend",g),Z(b,"drawnext",y),Z(b,"cancel",h),Z(b,"remove",w),Z(b,"state_changed",L),b?r.default.createElement(W.Provider,{value:b},E):null}),N=r.default.forwardRef(function(e,n){var o=e.position;o=o||kakao.maps.ControlPosition.TOP;var a=k("Toolbox"),r=t.useContext(W);if(!r)throw new Error("Toolbox must exist inside DrawingManager Component!`");var i=t.useMemo(function(){return new kakao.maps.drawing.Toolbox({drawingManager:r})},[r]);return t.useImperativeHandle(n,function(){return i},[i]),t.useLayoutEffect(function(){var e=i.getElement();return a.addControl(e,o),function(){a.removeControl(e)}},[a,i,o]),null}),j=r.default.forwardRef(function(e,n){var o=e.id,a=void 0===o?"react-kakao-maps-sdk-staticmap-container":o,i=e.style,s=e.className,c=e.center,f=e.marker,d=e.level,p=e.mapTypeId,k=e.onCreate,m=t.useState(),v=m[0],g=m[1],y=t.useRef(null);return u(function(){if(window.kakao){var e=y.current;e&&kakao.maps.load(function(){var t=Array.isArray(f)?f.map(function(e){return l({},e,{position:new kakao.maps.LatLng(e.position.lat,e.position.lng)})}):"object"==typeof f&&f.position?l({},f,{position:new kakao.maps.LatLng(f.position.lat,f.position.lng)}):f,n=new kakao.maps.StaticMap(e,{center:new kakao.maps.LatLng(c.lat,c.lng),level:d,mapTypeId:p,marker:t});g(n)})}else console.warn("kakao map javascript api를 먼저 불러와야 합니다. `https://apis.map.kakao.com/web/guide`")},[JSON.stringify(f)]),t.useImperativeHandle(n,function(){return v},[v]),u(function(){v&&v.setCenter(new kakao.maps.LatLng(c.lat,c.lng))},[v,c.lat,c.lng]),u(function(){v&&d&&v.setLevel(d)},[v,d]),u(function(){v&&p&&v.setMapTypeId(p)},[v,p]),u(function(){v&&k&&k(v)},[v,k]),r.default.createElement("div",{id:a,style:i,className:s,ref:y})});e.AbstractOverlay=S,e.Circle=M,e.CustomOverlayMap=L,e.CustomOverlayRoadview=A,e.DrawingManager=H,e.Ellipse=x,e.Loader=f,e.Map=p,e.MapInfoWindow=w,e.MapMarker=h,e.MapTypeControl=C,e.MapTypeId=function(e){var n=e.type,o=k("MapTypeId");return t.useEffect(function(){return o.addOverlayMapTypeId(n),function(){o.removeOverlayMapTypeId(n)}},[o,n]),null},e.MarkerClusterer=g,e.Polygon=I,e.Polyline=b,e.Rectangle=O,e.Roadview=R,e.RoadviewInfoWindow=T,e.RoadviewMarker=D,e.StaticMap=j,e.Toolbox=N,e.ZoomControl=E,e.useInjectKakaoMapApi=function(e){var n=t.useState({loading:!0,error:void 0}),o=n[0],a=n[1],r=t.useMemo(function(){return new f(e)},[JSON.stringify(e)]);return t.useEffect(function(){r.load().then(function(){return a({loading:!1,error:void 0})}).catch(function(e){return a({loading:!1,error:e})})},[r]),o},e.useMap=k,e.useRoadview=P});
//# sourceMappingURL=index.umd.js.map
